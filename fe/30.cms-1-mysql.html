<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据库能够做什么 # | Myfun&#39;s Blog</title>
    <meta name="description" content="cms">
    <link rel="icon" href="/favicon.ico">
    <meta name="keywords" content="cms">
    <link rel="preload" href="/assets/css/0.styles.6bc9bf16.css" as="style"><link rel="preload" href="/assets/js/app.35b69267.js" as="script"><link rel="preload" href="/assets/js/66.86940f42.js" as="script"><link rel="prefetch" href="/assets/js/10.a2f6c6ac.js"><link rel="prefetch" href="/assets/js/100.24b9a366.js"><link rel="prefetch" href="/assets/js/101.085f0585.js"><link rel="prefetch" href="/assets/js/102.66d5674f.js"><link rel="prefetch" href="/assets/js/103.7f71429c.js"><link rel="prefetch" href="/assets/js/104.13b0f535.js"><link rel="prefetch" href="/assets/js/105.0a093e85.js"><link rel="prefetch" href="/assets/js/106.a4a1db62.js"><link rel="prefetch" href="/assets/js/107.2634aacf.js"><link rel="prefetch" href="/assets/js/108.b393516d.js"><link rel="prefetch" href="/assets/js/109.769b78fb.js"><link rel="prefetch" href="/assets/js/11.fb483cc4.js"><link rel="prefetch" href="/assets/js/12.24a41994.js"><link rel="prefetch" href="/assets/js/13.a4762474.js"><link rel="prefetch" href="/assets/js/14.4a737bc9.js"><link rel="prefetch" href="/assets/js/15.548f4e99.js"><link rel="prefetch" href="/assets/js/16.b0d2654c.js"><link rel="prefetch" href="/assets/js/17.d43ab467.js"><link rel="prefetch" href="/assets/js/18.0c8f5f87.js"><link rel="prefetch" href="/assets/js/19.19ef59f8.js"><link rel="prefetch" href="/assets/js/2.436a35aa.js"><link rel="prefetch" href="/assets/js/20.24296203.js"><link rel="prefetch" href="/assets/js/21.c486888f.js"><link rel="prefetch" href="/assets/js/22.7e2305f9.js"><link rel="prefetch" href="/assets/js/23.e55bab1b.js"><link rel="prefetch" href="/assets/js/24.1468433c.js"><link rel="prefetch" href="/assets/js/25.6d82837f.js"><link rel="prefetch" href="/assets/js/26.3c4b2f18.js"><link rel="prefetch" href="/assets/js/27.21725a4f.js"><link rel="prefetch" href="/assets/js/28.db16c479.js"><link rel="prefetch" href="/assets/js/29.cb9512e5.js"><link rel="prefetch" href="/assets/js/3.5c82c0f7.js"><link rel="prefetch" href="/assets/js/30.a4c25096.js"><link rel="prefetch" href="/assets/js/31.81741530.js"><link rel="prefetch" href="/assets/js/32.da6d2ac6.js"><link rel="prefetch" href="/assets/js/33.f6164ecd.js"><link rel="prefetch" href="/assets/js/34.0344ad22.js"><link rel="prefetch" href="/assets/js/35.07d4c8d3.js"><link rel="prefetch" href="/assets/js/36.2c6adcff.js"><link rel="prefetch" href="/assets/js/37.ceb5e95e.js"><link rel="prefetch" href="/assets/js/38.d39e96e5.js"><link rel="prefetch" href="/assets/js/39.fcf34164.js"><link rel="prefetch" href="/assets/js/4.267db630.js"><link rel="prefetch" href="/assets/js/40.bdf31768.js"><link rel="prefetch" href="/assets/js/41.cc61eccd.js"><link rel="prefetch" href="/assets/js/42.042e4349.js"><link rel="prefetch" href="/assets/js/43.b385d348.js"><link rel="prefetch" href="/assets/js/44.7669f3e2.js"><link rel="prefetch" href="/assets/js/45.2fb532f4.js"><link rel="prefetch" href="/assets/js/46.0cc86442.js"><link rel="prefetch" href="/assets/js/47.30448b83.js"><link rel="prefetch" href="/assets/js/48.8893a5ed.js"><link rel="prefetch" href="/assets/js/49.ed7be1ae.js"><link rel="prefetch" href="/assets/js/5.d8a5933e.js"><link rel="prefetch" href="/assets/js/50.e4af394b.js"><link rel="prefetch" href="/assets/js/51.502ca2a7.js"><link rel="prefetch" href="/assets/js/52.f9768ea6.js"><link rel="prefetch" href="/assets/js/53.0c762369.js"><link rel="prefetch" href="/assets/js/54.dad23d00.js"><link rel="prefetch" href="/assets/js/55.4298d6a4.js"><link rel="prefetch" href="/assets/js/56.d8505fa7.js"><link rel="prefetch" href="/assets/js/57.63d197ce.js"><link rel="prefetch" href="/assets/js/58.ae9a3671.js"><link rel="prefetch" href="/assets/js/59.cb04d7cd.js"><link rel="prefetch" href="/assets/js/6.a83fef9a.js"><link rel="prefetch" href="/assets/js/60.0cedb385.js"><link rel="prefetch" href="/assets/js/61.a5c3f820.js"><link rel="prefetch" href="/assets/js/62.fc2d969d.js"><link rel="prefetch" href="/assets/js/63.53f087e3.js"><link rel="prefetch" href="/assets/js/64.9384bc9a.js"><link rel="prefetch" href="/assets/js/65.bb5db767.js"><link rel="prefetch" href="/assets/js/67.37215862.js"><link rel="prefetch" href="/assets/js/68.e0c14875.js"><link rel="prefetch" href="/assets/js/69.276f0d65.js"><link rel="prefetch" href="/assets/js/7.7e7cde5e.js"><link rel="prefetch" href="/assets/js/70.0fb38ae4.js"><link rel="prefetch" href="/assets/js/71.7c824b27.js"><link rel="prefetch" href="/assets/js/72.bc39810c.js"><link rel="prefetch" href="/assets/js/73.9917d9a4.js"><link rel="prefetch" href="/assets/js/74.7912f7da.js"><link rel="prefetch" href="/assets/js/75.c193b7ec.js"><link rel="prefetch" href="/assets/js/76.ecd4e536.js"><link rel="prefetch" href="/assets/js/77.842c5aba.js"><link rel="prefetch" href="/assets/js/78.0a67366d.js"><link rel="prefetch" href="/assets/js/79.324df7d4.js"><link rel="prefetch" href="/assets/js/8.7063c274.js"><link rel="prefetch" href="/assets/js/80.68c6326b.js"><link rel="prefetch" href="/assets/js/81.a7df7b21.js"><link rel="prefetch" href="/assets/js/82.abd9c0c2.js"><link rel="prefetch" href="/assets/js/83.fd0d8457.js"><link rel="prefetch" href="/assets/js/84.148b432c.js"><link rel="prefetch" href="/assets/js/85.32148693.js"><link rel="prefetch" href="/assets/js/86.7dc5fe11.js"><link rel="prefetch" href="/assets/js/87.bd1be392.js"><link rel="prefetch" href="/assets/js/88.2c0b86aa.js"><link rel="prefetch" href="/assets/js/89.3038cc8d.js"><link rel="prefetch" href="/assets/js/9.5cab2997.js"><link rel="prefetch" href="/assets/js/90.fb4057a1.js"><link rel="prefetch" href="/assets/js/91.4aa5adaf.js"><link rel="prefetch" href="/assets/js/92.aea0a62e.js"><link rel="prefetch" href="/assets/js/93.e2d0e9a7.js"><link rel="prefetch" href="/assets/js/94.a9e33a20.js"><link rel="prefetch" href="/assets/js/95.7c55098e.js"><link rel="prefetch" href="/assets/js/96.c8dfe1c0.js"><link rel="prefetch" href="/assets/js/97.35fc7df3.js"><link rel="prefetch" href="/assets/js/98.551b3ede.js"><link rel="prefetch" href="/assets/js/99.a8f5ffc4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6bc9bf16.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="wrap"><div class="theme-container container no-sidebar"><header class="navbar"><div class="nav-header"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"> <span class="site-name can-hide">
        Myfun's Blog
      </span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/interview/" class="nav-link">InterviewMap</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/css_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">CSS_Tricks</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/js_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">JS_Tricks</a></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://github.com/zhangximufeng" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/animate_resume_ts/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div> <!----></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/interview/" class="nav-link">InterviewMap</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/css_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">CSS_Tricks</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/js_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">JS_Tricks</a></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://github.com/zhangximufeng" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/animate_resume_ts/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div> <!----></nav> <!----></div> <div class="page-container"><div><div class="page card"><div class="content-header"><!----> <span class="page-timestamp">2018-09-29</span></div> <div class="content"><p></p><div class="table-of-contents"><ul><li><a href="#数据库能够做什么-t01-数据库能够做什么">数据库能够做什么 #</a><ul><li><a href="#_2-数据库的基本概念-t12-数据库的基本概念">2\. 数据库的基本概念 #</a></li><li><a href="#_3-数据表-t73-数据表">3\. 数据表 #</a></li><li><a href="#_4-mysql简介-t84-mysql简介">4.MYSQL简介 #</a></li><li><a href="#_5-创建表-t185-创建表">5\. 创建表 #</a></li><li><a href="#_6-数据完整性-t196-数据完整性">6\. 数据完整性 #</a></li><li><a href="#_7-实体完整性-t237-实体完整性">7.实体完整性 #</a></li><li><a href="#_9-sql-t309-sql">9\. SQL #</a></li><li><a href="#_9-5-查询窗口-t419-5-查询窗口">9.5 查询窗口 #</a></li><li><a href="#_9-6-数据操作语言-t429-6-数据操作语言">9.6 数据操作语言 #</a></li><li><a href="#_9-7-数据查询-t589-7-数据查询">9.7 数据查询 #</a></li><li><a href="#_9-8-函数-t779-8-函数">9.8 函数 #</a></li></ul></li></ul></div><p></p> <h1 id="数据库能够做什么-t01-数据库能够做什么"><a href="#数据库能够做什么-t01-数据库能够做什么" aria-hidden="true" class="header-anchor">#</a> 数据库能够做什么 [#](#t01. 数据库能够做什么)</h1> <hr> <ul><li>存储大量数据，方便检索和访问</li> <li>保持数据信息的一致、完整</li> <li>共享和安全</li> <li>通过组合分析，产生新的有用信息</li></ul> <h2 id="_2-数据库的基本概念-t12-数据库的基本概念"><a href="#_2-数据库的基本概念-t12-数据库的基本概念" aria-hidden="true" class="header-anchor">#</a> 2. 数据库的基本概念 [#](#t12. 数据库的基本概念)</h2> <h3 id="_2-1-实体-t22-1-实体"><a href="#_2-1-实体-t22-1-实体" aria-hidden="true" class="header-anchor">#</a> 2.1 实体 [#](#t22.1 实体)</h3> <p>只要是在客观世界存在的、可以被描述出来的都是实体</p> <h3 id="_2-2-数据库-db"><a href="#_2-2-数据库-db" aria-hidden="true" class="header-anchor">#</a> 2.2 数据库(DB)</h3> <ul><li><p>数据库就是数据的仓库，可以存放结构化的数据</p> <h3 id="_2-3-数据库管理系统-dbms"><a href="#_2-3-数据库管理系统-dbms" aria-hidden="true" class="header-anchor">#</a> 2.3 数据库管理系统(DBMS)</h3> <p>是一种系统软件，提供操作数据库的环境，可以通过数据库管理系统对数据进行插入、修改、删除和查询等操作。</p> <h3 id="_2-4-sql-t52-4-sql"><a href="#_2-4-sql-t52-4-sql" aria-hidden="true" class="header-anchor">#</a> 2.4 SQL [#](#t52.4  SQL)</h3> <p>结构化查询语言 专门用来和数据库进行交流的语言,几乎所有的DBMS都支持SQL</p></li></ul> <p><img src="assets/dbmspng.png" alt="dbms"></p> <h3 id="_2-5-sql规范-t62-5-sql规范"><a href="#_2-5-sql规范-t62-5-sql规范" aria-hidden="true" class="header-anchor">#</a> 2.5 SQL规范 [#](#t62.5  SQL规范)</h3> <ol><li>SQL语句不区分大小写，建议SQL关键字大写，表名和列表小写</li> <li>命令用分号结尾</li> <li>命令可以缩进和换行，一种类型的关键字放在一行</li> <li>可以写单行和多行注释 , #和--是单行注释，/<em>*</em>/多行注释</li></ol> <h2 id="_3-数据表-t73-数据表"><a href="#_3-数据表-t73-数据表" aria-hidden="true" class="header-anchor">#</a> 3. 数据表 [#](#t73. 数据表)</h2> <ul><li>表是数据库中包含所有数据的数据库对象，也是其它对象的基础。</li> <li>表定义是一个列的集合，数据在表中是按行和列的格式组织的，用来存放数据</li> <li>行也称为记录用来存放一个个实体，列称为字段用来描述实体的某一个属性 学生管理系统</li></ul> <p><img src="assets/table.png" alt="table"></p> <h2 id="_4-mysql简介"><a href="#_4-mysql简介" aria-hidden="true" class="header-anchor">#</a> 4.MYSQL简介 <a href="#t84.MYSQL%E7%AE%80%E4%BB%8B">#</a></h2> <h3 id="_4-1-mysql特点-t94-1-mysql特点"><a href="#_4-1-mysql特点-t94-1-mysql特点" aria-hidden="true" class="header-anchor">#</a> 4.1 MYSQL特点 [#](#t94.1 MYSQL特点)</h3> <ul><li>开源免费</li> <li>性能高</li> <li>安装使用都简单</li></ul> <h3 id="_4-2-mysql安装-t104-2-mysql安装"><a href="#_4-2-mysql安装-t104-2-mysql安装" aria-hidden="true" class="header-anchor">#</a> 4.2 MYSQL安装 [#](#t104.2 MYSQL安装)</h3> <ul><li><a href="https://dev.mysql.com/downloads/mysql/5.5.html" target="_blank" rel="noopener noreferrer">mysql下载<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>安装MYSQL</li></ul> <h3 id="_4-3-mysql配置-t114-3-mysql配置"><a href="#_4-3-mysql配置-t114-3-mysql配置" aria-hidden="true" class="header-anchor">#</a> 4.3 MYSQL配置 [#](#t114.3 MYSQL配置)</h3> <p>C:\Program Files\MySQL\MySQL Server 5.5\my.ini</p> <ul><li>port 端口号</li> <li>basedir 安装目录</li> <li>datadir 数据存放访目录</li> <li>charcter-set-server 字符集</li> <li>default-storage-engine 存储引擎</li> <li>sql-mode 语法模式</li> <li>max-connections 最大连接数</li></ul> <h3 id="_4-4-mysql启动和停止-t124-4-mysql启动和停止"><a href="#_4-4-mysql启动和停止-t124-4-mysql启动和停止" aria-hidden="true" class="header-anchor">#</a> 4.4 MYSQL启动和停止 [#](#t124.4  MYSQL启动和停止)</h3> <pre><code>net start MySQL
net stop MySQL
</code></pre> <h3 id="_4-5-通过命令行连接mysql-t134-5-通过命令行连接mysql"><a href="#_4-5-通过命令行连接mysql-t134-5-通过命令行连接mysql" aria-hidden="true" class="header-anchor">#</a> 4.5 通过命令行连接MYSQL [#](#t134.5 通过命令行连接MYSQL)</h3> <pre><code>mysql -h 127.0.0.1 -P 3306 -uroot -p123456
exit
</code></pre> <h3 id="_4-6-切换数据库-t144-6-切换数据库"><a href="#_4-6-切换数据库-t144-6-切换数据库" aria-hidden="true" class="header-anchor">#</a> 4.6 切换数据库 [#](#t144.6 切换数据库)</h3> <pre><code>use test;
</code></pre> <h3 id="_4-7-显示有哪些表-t154-7-显示有哪些表"><a href="#_4-7-显示有哪些表-t154-7-显示有哪些表" aria-hidden="true" class="header-anchor">#</a> 4.7 显示有哪些表 [#](#t154.7 显示有哪些表)</h3> <pre><code>show tables;
show tables from mysql;
</code></pre> <h3 id="_4-8-显示当前数据库-t164-8-显示当前数据库"><a href="#_4-8-显示当前数据库-t164-8-显示当前数据库" aria-hidden="true" class="header-anchor">#</a> 4.8 显示当前数据库 [#](#t164.8 显示当前数据库)</h3> <pre><code>select database();
</code></pre> <h3 id="_4-9-查询表结构-t174-9-查询表结构"><a href="#_4-9-查询表结构-t174-9-查询表结构" aria-hidden="true" class="header-anchor">#</a> 4.9 查询表结构 [#](#t174.9 查询表结构)</h3> <pre><code>DESC user;
</code></pre> <h2 id="_5-创建表-t185-创建表"><a href="#_5-创建表-t185-创建表" aria-hidden="true" class="header-anchor">#</a> 5. 创建表 [#](#t185. 创建表)</h2> <p><img src="assets/students.png" alt="student"> <img src="assets/course.png" alt="course"> <img src="assets/score.png" alt="score"></p> <h2 id="_6-数据完整性-t196-数据完整性"><a href="#_6-数据完整性-t196-数据完整性" aria-hidden="true" class="header-anchor">#</a> 6. 数据完整性 [#](#t196. 数据完整性)</h2> <ul><li>为了实现数据完整性，需要检验数据库表中的每行和每列数据是否符合要求</li> <li>在创建表的时候，应该保证以后的数据输入是正确的，错误的数据不允许输入</li></ul> <h3 id="_6-1-域完整性-t206-1-域完整性"><a href="#_6-1-域完整性-t206-1-域完整性" aria-hidden="true" class="header-anchor">#</a> 6.1 域完整性 [#](#t206.1 域完整性)</h3> <p>不同的字段需要设置为各种合适的类型，比如年龄就是整数类型 <img src="assets/datatype.jpg" alt="datatype"></p> <h3 id="_6-2-默认值-t216-2-默认值"><a href="#_6-2-默认值-t216-2-默认值" aria-hidden="true" class="header-anchor">#</a> 6.2 默认值 [#](#t216.2 默认值)</h3> <p>默认值是指如果用户没有指定值的情况下会记录的此字段指定一个提供一个预先设定的值</p> <blockquote><p>可以把居住地默认值设置为北京</p></blockquote> <h3 id="_6-3-非空约束-t226-3-非空约束"><a href="#_6-3-非空约束-t226-3-非空约束" aria-hidden="true" class="header-anchor">#</a> 6.3 非空约束 [#](#t226.3 非空约束)</h3> <p>我们可以指定某个字段不能不输入，必须提供一个非空的值</p> <blockquote><p>姓名字段不能为空</p></blockquote> <h2 id="_7-实体完整性"><a href="#_7-实体完整性" aria-hidden="true" class="header-anchor">#</a> 7.实体完整性 <a href="#t237.%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7">#</a></h2> <h3 id="_7-1-主键约束-t247-1-主键约束"><a href="#_7-1-主键约束-t247-1-主键约束" aria-hidden="true" class="header-anchor">#</a> 7.1 主键约束 [#](#t247.1 主键约束)</h3> <h3 id="_7-1-1-主键-t257-1-1-主键"><a href="#_7-1-1-主键-t257-1-1-主键" aria-hidden="true" class="header-anchor">#</a> 7.1.1 主键 [#](#t257.1.1  主键)</h3> <p>表中一列或者几列组合的值能用来唯一标识表中的每一行，这样的列或者列组合称为表的主键，主键表的数据不同重复。</p> <blockquote><p>如果两列或者多列组合起来唯一标识表中的每一行，则该主键又称为&quot;组合键&quot;</p></blockquote> <p><strong>主键的选择标准</strong></p> <ol><li>最少性 尽量选择单个键作为主键</li> <li>稳定性 ，由于主键是用来在两个表间建立联接的，所以不能经常更新，最好就不更新</li></ol> <h3 id="_7-1-2-外键-t267-1-2-外键"><a href="#_7-1-2-外键-t267-1-2-外键" aria-hidden="true" class="header-anchor">#</a> 7.1.2 外键 [#](#t267.1.2  外键)</h3> <p>成绩表中的学生ID应该在学生表中是存在的 我们应该让成绩表中的ID只能引用学生表中的ID，它们的值应该是一一对应的，也就是说成绩表中的ID是成绩表中的外键，对应学生表的主键 ，这样就可以保证数据的引用完整性</p> <h3 id="_7-1-3-唯一约束-t277-1-3-唯一约束"><a href="#_7-1-3-唯一约束-t277-1-3-唯一约束" aria-hidden="true" class="header-anchor">#</a> 7.1.3 唯一约束 [#](#t277.1.3  唯一约束)</h3> <p>唯一约束是指某个字段值是唯一的，在所有的记录中不能有重复的值.</p> <blockquote><p>学生的身份证号可以设置为唯一约束</p></blockquote> <h3 id="_7-1-4-标识列-t287-1-4-标识列"><a href="#_7-1-4-标识列-t287-1-4-标识列" aria-hidden="true" class="header-anchor">#</a> 7.1.4 标识列 [#](#t287.1.4  标识列)</h3> <ul><li><p>当表中没有合适的列作为主键时可以考虑增加标识列，标识列是一个无实际业务含义的列，仅仅用来区分每条记录。</p></li> <li><p>标识列的值是自动生成的，不能在该列上输入数据</p> <blockquote><p>思考: 如果标识列id的初始值为1，增长量为3，则输入3行数据以后，再删除1行，下次再输入数据行的时候，标识值自动插入的值是多少?</p></blockquote></li></ul> <h3 id="_7-1-5-外键约束-t297-1-5-外键约束"><a href="#_7-1-5-外键约束-t297-1-5-外键约束" aria-hidden="true" class="header-anchor">#</a> 7.1.5 外键约束 [#](#t297.1.5  外键约束)</h3> <p>一个表的外键必须引用另一个表的主键,比如成绩表中的学生ID会引用学生表的主键，课程ID会引用成绩表的主键</p> <ul><li><p>主表没有记录，子表中不能添加相应的记录</p></li> <li><p>修改和删除主表记录不能让子表记录孤立，必须相应修改和删除</p></li> <li><p>数据操作 8.1 创建学生表</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token punctuation">(</span>
<span class="token punctuation">`</span>id<span class="token punctuation">`</span>  <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span>   <span class="token punctuation">,</span>
<span class="token punctuation">`</span>name<span class="token punctuation">`</span>  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token punctuation">,</span>
<span class="token punctuation">`</span>age<span class="token punctuation">`</span>  <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token punctuation">,</span>
<span class="token punctuation">`</span>city<span class="token punctuation">`</span>  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'北京'</span> <span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div></li></ul> <p>8.2 增加身份证号字段</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> <span class="token punctuation">`</span>idcard<span class="token punctuation">`</span>  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span> <span class="token keyword">AFTER</span> <span class="token punctuation">`</span>city<span class="token punctuation">`</span><span class="token punctuation">;</span> <span class="token comment">--增加身份证字段</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> <span class="token punctuation">`</span>idcard<span class="token punctuation">`</span>  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">AFTER</span> <span class="token punctuation">`</span>name<span class="token punctuation">`</span><span class="token punctuation">;</span> <span class="token comment">--修改身份证字段</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span><span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> <span class="token punctuation">`</span>idcard<span class="token punctuation">`</span><span class="token punctuation">;</span> <span class="token comment">--删除身份证字段</span>
</code></pre></div><p>8.3 添加约束</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 主键约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 唯一约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">INDEX</span> <span class="token punctuation">`</span>uq_idcard<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>idcard<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token comment">-- 默认约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> <span class="token punctuation">`</span>city<span class="token punctuation">`</span>  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>  <span class="token keyword">DEFAULT</span> <span class="token string">'北京'</span> <span class="token keyword">AFTER</span> <span class="token punctuation">`</span>age<span class="token punctuation">`</span><span class="token punctuation">;</span>
<span class="token comment">-- 外键约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">`</span>fk_stuid<span class="token punctuation">`</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>student_id<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 删除约束</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">`</span>fk_stuid<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><p>8.4 准备数据 <img src="assets/relations.png" alt="relations"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>idcard<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>age<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>city<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>course<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>student_id<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>course_id<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>grade<span class="token punctuation">`</span> <span class="token keyword">float</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>student_id<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>course_id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token punctuation">`</span>fk_courseid<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>course_id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">`</span>fk_courseid<span class="token punctuation">`</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>course_id<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token punctuation">`</span>course<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">`</span>fk_stuid<span class="token punctuation">`</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>student_id<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre></div><h2 id="_9-sql-t309-sql"><a href="#_9-sql-t309-sql" aria-hidden="true" class="header-anchor">#</a> 9. SQL [#](#t309. SQL)</h2> <h3 id="_9-1-sql是什么-t319-1-sql是什么"><a href="#_9-1-sql是什么-t319-1-sql是什么" aria-hidden="true" class="header-anchor">#</a> 9.1 SQL是什么 [#](#t319.1 SQL是什么)</h3> <p>Structured Query Language：结构化查询语言</p> <h3 id="_9-2-为什么要用sql-t329-2-为什么要用sql"><a href="#_9-2-为什么要用sql-t329-2-为什么要用sql" aria-hidden="true" class="header-anchor">#</a> 9.2 为什么要用SQL [#](#t329.2 为什么要用SQL)</h3> <ol><li>使用界面操作数据库不方便</li> <li>我们需要通过应用程序去操作数据库</li></ol> <h3 id="_9-3-sql组成-t339-3-sql组成"><a href="#_9-3-sql组成-t339-3-sql组成" aria-hidden="true" class="header-anchor">#</a> 9.3 SQL组成 [#](#t339.3 SQL组成)</h3> <h4 id="_9-3-1-ddl（data-definition-language）是数据定义语言-t349-3-1-ddl（data-definition-language）是数据定义语言"><a href="#_9-3-1-ddl（data-definition-language）是数据定义语言-t349-3-1-ddl（data-definition-language）是数据定义语言" aria-hidden="true" class="header-anchor">#</a> 9.3.1 DDL（data definition language）是数据定义语言 [#](#t349.3.1 DDL（data definition language）是数据定义语言)</h4> <p>主要的命令有<code>CREATE</code>、<code>ALTER</code>、<code>DROP</code>等，<strong>DDL</strong>主要是用在定义或改变表（TABLE）的结构，数据类型，表之间的链接和约束等初始化工作上，他们大多在建立表时使用</p> <h4 id="_9-3-2-dml（data-manipulation-language）是数据操纵语言-t359-3-2-dml（data-manipulation-language）是数据操纵语言"><a href="#_9-3-2-dml（data-manipulation-language）是数据操纵语言-t359-3-2-dml（data-manipulation-language）是数据操纵语言" aria-hidden="true" class="header-anchor">#</a> 9.3.2 DML（data manipulation language）是数据操纵语言 [#](#t359.3.2  DML（data manipulation language）是数据操纵语言)</h4> <p>它们是<code>SELECT</code>、<code>UPDATE、</code>INSERT<code>、</code>DELETE`，就象它的名字一样，这4条命令是用来对数据库里的数据进行操作的语言</p> <h4 id="_9-3-3-dcl（datacontrollanguage）是数据库控制语言-t369-3-3-dcl（datacontrollanguage）是数据库控制语言"><a href="#_9-3-3-dcl（datacontrollanguage）是数据库控制语言-t369-3-3-dcl（datacontrollanguage）是数据库控制语言" aria-hidden="true" class="header-anchor">#</a> 9.3.3 DCL（DataControlLanguage）是数据库控制语言 [#](#t369.3.3   DCL（DataControlLanguage）是数据库控制语言)</h4> <p>是用来设置或更改数据库用户或角色权限的语句，包括（<code>grant</code>,<code>revoke</code>等）语句</p> <h3 id="_9-4-sql运算符-t379-4-sql运算符"><a href="#_9-4-sql运算符-t379-4-sql运算符" aria-hidden="true" class="header-anchor">#</a> 9.4 SQL运算符 [#](#t379.4  SQL运算符)</h3> <p>是一种符号，它是用来进行列间或者变量之间的比较和数学运算的</p> <h3 id="_9-4-1-算术运算符-t389-4-1-算术运算符"><a href="#_9-4-1-算术运算符-t389-4-1-算术运算符" aria-hidden="true" class="header-anchor">#</a> 9.4.1 算术运算符 [#](#t389.4.1 算术运算符)</h3> <table><thead><tr><th>运算符</th> <th>说明</th></tr></thead> <tbody><tr><td>+</td> <td>加运算，求两个数或表达式相加的和，如1+1</td></tr> <tr><td>-</td> <td>减少减运算，求两个数或表达式相减的差，如4-1</td></tr> <tr><td>*</td> <td>乘运算，求两个数或表达式相乘的积，如2*2</td></tr> <tr><td>/</td> <td>除运算，求两个数或表达式相除的商，如6/4的值为1</td></tr> <tr><td>%</td> <td>取模运算，求两个数或表达式相除的余数，如：6%4的值为2</td></tr></tbody></table> <ul><li>查询姓名全称</li></ul> <h3 id="_9-4-2-逻辑运算符-t399-4-2-逻辑运算符"><a href="#_9-4-2-逻辑运算符-t399-4-2-逻辑运算符" aria-hidden="true" class="header-anchor">#</a> 9.4.2 逻辑运算符 [#](#t399.4.2  逻辑运算符)</h3> <table><thead><tr><th>运算符</th> <th>说明</th></tr></thead> <tbody><tr><td>AND</td> <td>当且仅当两个布尔表达式都为true时，返回TRUE</td></tr> <tr><td>OR</td> <td>当且仅当两个布尔表达式都为false，返回FALSE</td></tr> <tr><td>NOT</td> <td>布尔表达式的值取反</td></tr></tbody></table> <h3 id="_9-4-3-比较运算符-t409-4-3-比较运算符"><a href="#_9-4-3-比较运算符-t409-4-3-比较运算符" aria-hidden="true" class="header-anchor">#</a> 9.4.3 比较运算符 [#](#t409.4.3   比较运算符)</h3> <table><thead><tr><th>运算符</th> <th>说明</th></tr></thead> <tbody><tr><td>=</td> <td>等于</td></tr> <tr><td>&gt;</td> <td>大于</td></tr> <tr><td>&lt;</td> <td>小于</td></tr> <tr><td>&lt;&gt;</td> <td>不等于</td></tr> <tr><td>&gt;=</td> <td>大于等于</td></tr> <tr><td>&lt;=</td> <td>小于等于</td></tr> <tr><td>!=</td> <td>不等于</td></tr></tbody></table> <h2 id="_9-5-查询窗口-t419-5-查询窗口"><a href="#_9-5-查询窗口-t419-5-查询窗口" aria-hidden="true" class="header-anchor">#</a> 9.5 查询窗口 [#](#t419.5 查询窗口)</h2> <p><img src="assets/query.png" alt="query"></p> <h2 id="_9-6-数据操作语言-t429-6-数据操作语言"><a href="#_9-6-数据操作语言-t429-6-数据操作语言" aria-hidden="true" class="header-anchor">#</a> 9.6 数据操作语言 [#](#t429.6 数据操作语言)</h2> <h3 id="_9-6-1-插入数据行-t439-6-1-插入数据行"><a href="#_9-6-1-插入数据行-t439-6-1-插入数据行" aria-hidden="true" class="header-anchor">#</a> 9.6.1 插入数据行 [#](#t439.6.1  插入数据行)</h3> <h3 id="_9-6-1-1-语法-t449-6-1-1-语法"><a href="#_9-6-1-1-语法-t449-6-1-1-语法" aria-hidden="true" class="header-anchor">#</a> 9.6.1.1 语法 [#](#t449.6.1.1 语法)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code> <span class="token keyword">INSERT</span>  <span class="token punctuation">[</span><span class="token keyword">INTO</span><span class="token punctuation">]</span>  表名  <span class="token punctuation">[</span><span class="token punctuation">(</span>列名<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">VALUES</span>  <span class="token punctuation">(</span>值列表<span class="token punctuation">)</span>
</code></pre></div><h3 id="_9-6-1-2-向学生表插入一条记录-姓名张三-身份证号123456-年龄30-城市北京-t459-6-1-2-向学生表插入一条记录-姓名张三-身份证号123456-年龄30-城市北京"><a href="#_9-6-1-2-向学生表插入一条记录-姓名张三-身份证号123456-年龄30-城市北京-t459-6-1-2-向学生表插入一条记录-姓名张三-身份证号123456-年龄30-城市北京" aria-hidden="true" class="header-anchor">#</a> 9.6.1.2 向学生表插入一条记录, 姓名张三,身份证号123456,年龄30,城市北京 [#](#t459.6.1.2 向学生表插入一条记录, 姓名张三,身份证号123456,年龄30,城市北京)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">[</span>school<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>student<span class="token punctuation">]</span>
<span class="token punctuation">(</span>name<span class="token punctuation">,</span>idcard<span class="token punctuation">,</span>age<span class="token punctuation">,</span>city<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'123456'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token string">'北京'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_9-6-1-3-注意事项-t469-6-1-3-注意事项"><a href="#_9-6-1-3-注意事项-t469-6-1-3-注意事项" aria-hidden="true" class="header-anchor">#</a> 9.6.1.3 注意事项 [#](#t469.6.1.3 注意事项)</h3> <ul><li>每次插入一行数据，不能只插入一部分数据，插入的数据是否有效将按照整行的完整性要求来检验</li> <li>每个数据值的数据类型、精度、位数必须与要应的列名精确匹配</li> <li>不能为标识符指定值</li> <li>如果某字段设置为不能为空，则必须插入数据</li> <li>插入数据时还要符合检查性约束的要求</li> <li>有缺省值的列，可以使用DEFAULT关键字来代替插入实际的值</li></ul> <h3 id="_9-6-2-更新数据行-t479-6-2-更新数据行"><a href="#_9-6-2-更新数据行-t479-6-2-更新数据行" aria-hidden="true" class="header-anchor">#</a> 9.6.2 更新数据行 [#](#t479.6.2  更新数据行)</h3> <h3 id="_9-6-2-1-语法-t489-6-2-1-语法"><a href="#_9-6-2-1-语法-t489-6-2-1-语法" aria-hidden="true" class="header-anchor">#</a> 9.6.2.1 语法 [#](#t489.6.2.1 语法)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> 表名 <span class="token keyword">SET</span> 列名 <span class="token operator">=</span> 更新值 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 更新条件<span class="token punctuation">]</span>
</code></pre></div><h3 id="_9-6-2-2-更新id等于7的学生年龄改为40，城市改为上海-t499-6-2-2-更新id等于7的学生年龄改为40，城市改为上海"><a href="#_9-6-2-2-更新id等于7的学生年龄改为40，城市改为上海-t499-6-2-2-更新id等于7的学生年龄改为40，城市改为上海" aria-hidden="true" class="header-anchor">#</a> 9.6.2.2 更新ID等于7的学生年龄改为40，城市改为上海 [#](#t499.6.2.2 更新ID等于7的学生年龄改为40，城市改为上海)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> <span class="token punctuation">[</span>school<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>student<span class="token punctuation">]</span>
   <span class="token keyword">SET</span> age <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">,</span>city <span class="token operator">=</span> <span class="token string">'上海'</span>
<span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">7</span>
</code></pre></div><h3 id="_9-6-2-3-注意-t509-6-2-3-注意"><a href="#_9-6-2-3-注意-t509-6-2-3-注意" aria-hidden="true" class="header-anchor">#</a> 9.6.2.3 注意 [#](#t509.6.2.3 注意)</h3> <ul><li>多列时用逗号隔开，一定要加更新条件以免错误更新</li> <li>多个联合条件使用 AND <code>id=7 and idcard='410787'</code></li> <li>判断某字段是否为空 <code>email is null or email = ''</code></li></ul> <h3 id="_9-6-3-删除数据-t519-6-3-删除数据"><a href="#_9-6-3-删除数据-t519-6-3-删除数据" aria-hidden="true" class="header-anchor">#</a> 9.6.3 删除数据 [#](#t519.6.3   删除数据)</h3> <h3 id="_9-6-2-1-语法-t529-6-2-1-语法"><a href="#_9-6-2-1-语法-t529-6-2-1-语法" aria-hidden="true" class="header-anchor">#</a> 9.6.2.1 语法 [#](#t529.6.2.1 语法)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token punctuation">[</span><span class="token keyword">FROM</span><span class="token punctuation">]</span>  表名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>删除条件<span class="token operator">&gt;</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="_9-6-2-2-删除id-7的学生记录-t539-6-2-2-删除id-7的学生记录"><a href="#_9-6-2-2-删除id-7的学生记录-t539-6-2-2-删除id-7的学生记录" aria-hidden="true" class="header-anchor">#</a> 9.6.2.2 删除ID=7的学生记录 [#](#t539.6.2.2 删除ID=7的学生记录)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">[</span>school<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>student<span class="token punctuation">]</span> <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">7</span>
</code></pre></div><h3 id="_9-6-2-3-注意-t549-6-2-3-注意"><a href="#_9-6-2-3-注意-t549-6-2-3-注意" aria-hidden="true" class="header-anchor">#</a> 9.6.2.3 注意 [#](#t549.6.2.3 注意)</h3> <ul><li>Delete语句是对整行进行操作，因此不需要提供列名</li> <li>如果要删除主表数据，则要先删除子表记录</li></ul> <h3 id="_9-6-4-truncate-截断表-t559-6-4-truncate-截断表"><a href="#_9-6-4-truncate-截断表-t559-6-4-truncate-截断表" aria-hidden="true" class="header-anchor">#</a> 9.6.4 TRUNCATE 截断表 [#](#t559.6.4 TRUNCATE 截断表)</h3> <p>截断整个表中的数据</p> <h3 id="_9-6-4-1-语法-t569-6-4-1-语法"><a href="#_9-6-4-1-语法-t569-6-4-1-语法" aria-hidden="true" class="header-anchor">#</a> 9.6.4.1 语法 [#](#t569.6.4.1 语法)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">TRUNCATE</span>  <span class="token keyword">TABLE</span>  表名
</code></pre></div><h4 id="_9-6-4-2-截断学生表-t579-6-4-2-截断学生表"><a href="#_9-6-4-2-截断学生表-t579-6-4-2-截断学生表" aria-hidden="true" class="header-anchor">#</a> 9.6.4.2 截断学生表 [#](#t579.6.4.2 截断学生表)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> student
</code></pre></div><blockquote><p>数据全部清空,但表结构、列、约束等不被改动 不能用于有外键约束引用的表 标识列重新开始编号 因为要删除的数据不会写入日志，数据也不能恢复，所以工作中请尽量不要使用此命令</p></blockquote> <h2 id="_9-7-数据查询-t589-7-数据查询"><a href="#_9-7-数据查询-t589-7-数据查询" aria-hidden="true" class="header-anchor">#</a> 9.7 数据查询 [#](#t589.7  数据查询)</h2> <ul><li>查询就是从客户端 发出查询请求数据库服务器，并从数据库返回查询结果的过程</li> <li>每次执行查询只是从数据表中提取数据，并按表的方式呈现出来</li> <li>查询产生的是虚拟表,并不会保存起来</li></ul> <h3 id="_9-7-1-查询-t599-7-1-查询"><a href="#_9-7-1-查询-t599-7-1-查询" aria-hidden="true" class="header-anchor">#</a> 9.7.1 查询 [#](#t599.7.1  查询)</h3> <h3 id="_9-7-1-1-语法-t609-7-1-1-语法"><a href="#_9-7-1-1-语法-t609-7-1-1-语法" aria-hidden="true" class="header-anchor">#</a> 9.7.1.1 语法 [#](#t609.7.1.1   语法)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>    <span class="token operator">&lt;</span>列名<span class="token operator">&gt;</span>
<span class="token keyword">FROM</span>      <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span>
<span class="token punctuation">[</span><span class="token keyword">WHERE</span>    <span class="token operator">&lt;</span>查询条件表达式<span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token operator">&lt;</span>排序的列名<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token keyword">ASC</span>或<span class="token keyword">DESC</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="_9-7-1-2-查询北京的学生信息，并按id正序排列-t619-7-1-2-查询北京的学生信息，并按id正序排列"><a href="#_9-7-1-2-查询北京的学生信息，并按id正序排列-t619-7-1-2-查询北京的学生信息，并按id正序排列" aria-hidden="true" class="header-anchor">#</a> 9.7.1.2 查询北京的学生信息，并按ID正序排列 [#](#t619.7.1.2 查询北京的学生信息，并按ID正序排列)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>idcard<span class="token punctuation">,</span>age<span class="token punctuation">,</span>city
<span class="token keyword">FROM</span> student
<span class="token keyword">WHERE</span> home<span class="token operator">=</span> ‘北京’
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> id <span class="token keyword">asc</span>
</code></pre></div><p><img src="assets/selectquery.png" alt="selectquery"></p> <h3 id="_9-7-1-3-别名-t629-7-1-3-别名"><a href="#_9-7-1-3-别名-t629-7-1-3-别名" aria-hidden="true" class="header-anchor">#</a> 9.7.1.3 别名 [#](#t629.7.1.3  别名)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>idcard<span class="token punctuation">,</span>age<span class="token punctuation">,</span>city <span class="token keyword">AS</span> home
<span class="token keyword">FROM</span> student
<span class="token keyword">WHERE</span> city<span class="token operator">=</span> <span class="token string">'山东'</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> id <span class="token keyword">asc</span>
</code></pre></div><h3 id="_9-7-1-4-查询空行-t639-7-1-4-查询空行"><a href="#_9-7-1-4-查询空行-t639-7-1-4-查询空行" aria-hidden="true" class="header-anchor">#</a> 9.7.1.4 查询空行 [#](#t639.7.1.4  查询空行)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>city
<span class="token keyword">FROM</span> student
<span class="token keyword">WHERE</span> city <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">or</span> city <span class="token operator">=</span><span class="token string">''</span>
</code></pre></div><h3 id="_9-7-1-5-常量列-t649-7-1-5-常量列"><a href="#_9-7-1-5-常量列-t649-7-1-5-常量列" aria-hidden="true" class="header-anchor">#</a> 9.7.1.5 常量列 [#](#t649.7.1.5  常量列)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>city<span class="token punctuation">,</span><span class="token string">'中国'</span> <span class="token keyword">as</span> country
<span class="token keyword">FROM</span> student
</code></pre></div><h3 id="_9-7-1-6-限制返回的行数-t659-7-1-6-限制返回的行数"><a href="#_9-7-1-6-限制返回的行数-t659-7-1-6-限制返回的行数" aria-hidden="true" class="header-anchor">#</a> 9.7.1.6 限制返回的行数 [#](#t659.7.1.6  限制返回的行数)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>city<span class="token punctuation">,</span><span class="token string">'中国'</span> <span class="token keyword">as</span> country
<span class="token keyword">FROM</span> student <span class="token keyword">limit</span> <span class="token number">2</span>
</code></pre></div><h3 id="_9-7-1-7-查询同学们一共来自哪些不同的城市-t669-7-1-7-查询同学们一共来自哪些不同的城市"><a href="#_9-7-1-7-查询同学们一共来自哪些不同的城市-t669-7-1-7-查询同学们一共来自哪些不同的城市" aria-hidden="true" class="header-anchor">#</a> 9.7.1.7 查询同学们一共来自哪些不同的城市 [#](#t669.7.1.7  查询同学们一共来自哪些不同的城市)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span><span class="token keyword">DISTINCT</span> city<span class="token punctuation">,</span><span class="token string">'中国'</span> <span class="token keyword">as</span> country
<span class="token keyword">FROM</span> student
</code></pre></div><h3 id="_9-7-1-8-在mysql中-号只能用作运算符-t679-7-1-8-在mysql中-号只能用作运算符"><a href="#_9-7-1-8-在mysql中-号只能用作运算符-t679-7-1-8-在mysql中-号只能用作运算符" aria-hidden="true" class="header-anchor">#</a> 9.7.1.8 在MYSQL中+号只能用作运算符 [#](#t679.7.1.8  在MYSQL中+号只能用作运算符)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span>
<span class="token keyword">SELECT</span> <span class="token number">1</span><span class="token operator">+</span><span class="token string">'1'</span>
<span class="token keyword">SELECT</span> <span class="token number">1</span><span class="token operator">+</span><span class="token string">'zxmf'</span>
<span class="token keyword">SELECT</span> <span class="token number">1</span><span class="token operator">+</span><span class="token boolean">null</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span>first_name<span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_9-7-1-7-练习-t689-7-1-7-练习"><a href="#_9-7-1-7-练习-t689-7-1-7-练习" aria-hidden="true" class="header-anchor">#</a> 9.7.1.7 练习 [#](#t689.7.1.7  练习)</h3> <h4 id="_9-7-1-7-1-准备数据-t699-7-1-7-1-准备数据"><a href="#_9-7-1-7-1-准备数据-t699-7-1-7-1-准备数据" aria-hidden="true" class="header-anchor">#</a> 9.7.1.7.1 准备数据 [#](#t699.7.1.7.1  准备数据)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
<span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> <span class="token punctuation">`</span>province<span class="token punctuation">`</span>  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span> <span class="token keyword">AFTER</span> <span class="token punctuation">`</span>city<span class="token punctuation">`</span><span class="token punctuation">,</span>
<span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> <span class="token punctuation">`</span>birthday<span class="token punctuation">`</span>  <span class="token keyword">date</span> <span class="token boolean">NULL</span> <span class="token keyword">AFTER</span> <span class="token punctuation">`</span>province<span class="token punctuation">`</span><span class="token punctuation">,</span>
<span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> <span class="token punctuation">`</span>gender<span class="token punctuation">`</span>   <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span> <span class="token keyword">AFTER</span> <span class="token punctuation">`</span>birthday<span class="token punctuation">`</span><span class="token punctuation">,</span>
<span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> <span class="token punctuation">`</span>email<span class="token punctuation">`</span>  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span> <span class="token keyword">AFTER</span> <span class="token punctuation">`</span>gender<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="assets/studenttable.png" alt="studenttable"> <img src="assets/coursetable.png" alt="coursetable"> <img src="assets/scoretable.png" alt="scoretable"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'郭靖'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'济南'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">,</span> <span class="token string">'1982-09-03'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'1@qq.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'黄蓉'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'济南'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">,</span> <span class="token string">'1982-09-03'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'2@qq.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'杨过'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'终南山'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">,</span> <span class="token string">'1979-09-03'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'3@qq.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'小龙女'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'终南山'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">,</span> <span class="token string">'1970-09-03'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'4@qq.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'欧阳锋'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'白驼山'</span><span class="token punctuation">,</span> <span class="token string">'新疆'</span><span class="token punctuation">,</span> <span class="token string">'1989-09-09'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'5@qq.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> course <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'语文'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> course <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'数学'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> course <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'英语'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'100'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'90'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'70'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'100'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'90'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'80'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'100'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'90'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'80'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>​</p> <h4 id="_9-7-1-7-2-查询山东省的同学全部信息-t709-7-1-7-2-查询山东省的同学全部信息"><a href="#_9-7-1-7-2-查询山东省的同学全部信息-t709-7-1-7-2-查询山东省的同学全部信息" aria-hidden="true" class="header-anchor">#</a> 9.7.1.7.2 查询山东省的同学全部信息 [#](#t709.7.1.7.2  查询山东省的同学全部信息)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> province <span class="token operator">=</span> <span class="token string">'山东'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-7-1-7-3-查询山东省的男同学的全部信息-t719-7-1-7-3-查询山东省的男同学的全部信息"><a href="#_9-7-1-7-3-查询山东省的男同学的全部信息-t719-7-1-7-3-查询山东省的男同学的全部信息" aria-hidden="true" class="header-anchor">#</a> 9.7.1.7.3 查询山东省的男同学的全部信息 [#](#t719.7.1.7.3  查询山东省的男同学的全部信息)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> province <span class="token operator">=</span> <span class="token string">'山东'</span> <span class="token operator">and</span> gender<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-7-1-7-4-查询没有填写电子邮箱的同学的姓名和身份证号-t729-7-1-7-4-查询没有填写电子邮箱的同学的姓名和身份证号"><a href="#_9-7-1-7-4-查询没有填写电子邮箱的同学的姓名和身份证号-t729-7-1-7-4-查询没有填写电子邮箱的同学的姓名和身份证号" aria-hidden="true" class="header-anchor">#</a> 9.7.1.7.4 查询没有填写电子邮箱的同学的姓名和身份证号 [#](#t729.7.1.7.4  查询没有填写电子邮箱的同学的姓名和身份证号)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span>idcard <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> email <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre></div><h3 id="_9-7-1-8-排序-t739-7-1-8-排序"><a href="#_9-7-1-8-排序-t739-7-1-8-排序" aria-hidden="true" class="header-anchor">#</a> 9.7.1.8 排序 [#](#t739.7.1.8 排序)</h3> <h4 id="_9-7-1-8-1-把学生的分数按升序排列-t749-7-1-8-1-把学生的分数按升序排列"><a href="#_9-7-1-8-1-把学生的分数按升序排列-t749-7-1-8-1-把学生的分数按升序排列" aria-hidden="true" class="header-anchor">#</a> 9.7.1.8.1 把学生的分数按升序排列 [#](#t749.7.1.8.1 把学生的分数按升序排列)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>  <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> score <span class="token keyword">order</span> <span class="token keyword">by</span> grade <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-7-1-8-2-把学生的分数按降序排列-t759-7-1-8-2-把学生的分数按降序排列"><a href="#_9-7-1-8-2-把学生的分数按降序排列-t759-7-1-8-2-把学生的分数按降序排列" aria-hidden="true" class="header-anchor">#</a> 9.7.1.8.2 把学生的分数按降序排列 [#](#t759.7.1.8.2 把学生的分数按降序排列)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>  <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> score <span class="token keyword">order</span> <span class="token keyword">by</span> grade <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-7-1-8-3-课程编号按升序，成绩按降序-t769-7-1-8-3-课程编号按升序，成绩按降序"><a href="#_9-7-1-8-3-课程编号按升序，成绩按降序-t769-7-1-8-3-课程编号按升序，成绩按降序" aria-hidden="true" class="header-anchor">#</a> 9.7.1.8.3 课程编号按升序，成绩按降序 [#](#t769.7.1.8.3 课程编号按升序，成绩按降序)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> score <span class="token keyword">order</span> <span class="token keyword">by</span> course_id <span class="token keyword">asc</span><span class="token punctuation">,</span> grade <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_9-8-函数-t779-8-函数"><a href="#_9-8-函数-t779-8-函数" aria-hidden="true" class="header-anchor">#</a> 9.8 函数 [#](#t779.8 函数)</h2> <h3 id="_9-8-1-字符函数-t789-8-1-字符函数"><a href="#_9-8-1-字符函数-t789-8-1-字符函数" aria-hidden="true" class="header-anchor">#</a> 9.8.1 字符函数 [#](#t789.8.1  字符函数)</h3> <table><thead><tr><th>函数名称</th> <th>描述</th></tr></thead> <tbody><tr><td>CONCAT</td> <td>字符串连接</td></tr> <tr><td>CONCAT_WS</td> <td>使用指定的分隔符进行字符连接</td></tr> <tr><td>FORMAT</td> <td>数字格式化</td></tr> <tr><td>LOWER</td> <td>转小写字母</td></tr> <tr><td>UPPER</td> <td>转大写字母</td></tr> <tr><td>LEFT</td> <td>返回字符串s开始的最左边n个字符</td></tr> <tr><td>RIGHT</td> <td>返回字符串s开始的最左边n个字符</td></tr></tbody></table> <h4 id="_9-8-1-1-length-t799-8-1-1-length"><a href="#_9-8-1-1-length-t799-8-1-1-length" aria-hidden="true" class="header-anchor">#</a> 9.8.1.1 LENGTH [#](#t799.8.1.1  LENGTH)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LENGTH<span class="token punctuation">(</span><span class="token string">'zxmf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> LENGTH<span class="token punctuation">(</span><span class="token string">'张熙沐枫'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">like</span> <span class="token string">'%char%'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-1-2-拼接字符串-concat-t809-8-1-2-拼接字符串-concat"><a href="#_9-8-1-2-拼接字符串-concat-t809-8-1-2-拼接字符串-concat" aria-hidden="true" class="header-anchor">#</a> 9.8.1.2 拼接字符串 [CONCAT] [#](#t809.8.1.2  拼接字符串 [CONCAT])</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token string">'_'</span><span class="token punctuation">,</span>first_name<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-1-3-拼接字符串-upper-t819-8-1-3-拼接字符串-upper"><a href="#_9-8-1-3-拼接字符串-upper-t819-8-1-3-拼接字符串-upper" aria-hidden="true" class="header-anchor">#</a> 9.8.1.3 拼接字符串 [UPPER] [#](#t819.8.1.3  拼接字符串 [UPPER])</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">'zxmf'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-1-4-拼接字符串-lower-t829-8-1-4-拼接字符串-lower"><a href="#_9-8-1-4-拼接字符串-lower-t829-8-1-4-拼接字符串-lower" aria-hidden="true" class="header-anchor">#</a> 9.8.1.4 拼接字符串 [LOWER] [#](#t829.8.1.4  拼接字符串 [LOWER])</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">'zxmf'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-1-5-截取字符串-substr-t839-8-1-5-截取字符串-substr"><a href="#_9-8-1-5-截取字符串-substr-t839-8-1-5-截取字符串-substr" aria-hidden="true" class="header-anchor">#</a> 9.8.1.5 截取字符串 [SUBSTR] [#](#t839.8.1.5  截取字符串 [SUBSTR])</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">'zxmf'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- 截取从指定索引处开始的所有的字符</span>
<span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">'zxmf'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--截取从指定索引处开始的指定数量的字符</span>
</code></pre></div><h4 id="_9-8-1-6-姓名的首字符大写，其它字符小写然后用-拼接-t849-8-1-6-姓名的首字符大写，其它字符小写然后用-拼接"><a href="#_9-8-1-6-姓名的首字符大写，其它字符小写然后用-拼接-t849-8-1-6-姓名的首字符大写，其它字符小写然后用-拼接" aria-hidden="true" class="header-anchor">#</a> 9.8.1.6 姓名的首字符大写，其它字符小写然后用_拼接 [#](#t849.8.1.6  姓名的首字符大写，其它字符小写然后用_拼接)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code> <span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'_'</span><span class="token punctuation">,</span>LOWER<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-1-7-返回子串在原始字符串的起始索引-t859-8-1-7-返回子串在原始字符串的起始索引"><a href="#_9-8-1-7-返回子串在原始字符串的起始索引-t859-8-1-7-返回子串在原始字符串的起始索引" aria-hidden="true" class="header-anchor">#</a> 9.8.1.7 返回子串在原始字符串的起始索引 [#](#t859.8.1.7  返回子串在原始字符串的起始索引)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">'zxmf'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-1-8-去掉左右空格-trim-t869-8-1-8-去掉左右空格-trim"><a href="#_9-8-1-8-去掉左右空格-trim-t869-8-1-8-去掉左右空格-trim" aria-hidden="true" class="header-anchor">#</a> 9.8.1.8 去掉左右空格[TRIM] [#](#t869.8.1.8  去掉左右空格[TRIM])</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">'  zxmf  '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> LTRIM<span class="token punctuation">(</span><span class="token string">'  zxmf  '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> RTRIM<span class="token punctuation">(</span><span class="token string">'  zxmf  '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">'x'</span> <span class="token keyword">FROM</span> <span class="token string">'xxzxmfxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-1-9-用空格补齐-lpad-t879-8-1-9-用空格补齐-lpad"><a href="#_9-8-1-9-用空格补齐-lpad-t879-8-1-9-用空格补齐-lpad" aria-hidden="true" class="header-anchor">#</a> 9.8.1.9 用空格补齐[LPAD] [#](#t879.8.1.9  用空格补齐[LPAD])</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LPAD<span class="token punctuation">(</span><span class="token string">'zxmf'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'@'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> LPAD<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> RPAD<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-1-10-替换-t889-8-1-10-替换"><a href="#_9-8-1-10-替换-t889-8-1-10-替换" aria-hidden="true" class="header-anchor">#</a> 9.8.1.10 替换 [#](#t889.8.1.10  替换)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span><span class="token string">'zxmf'</span><span class="token punctuation">,</span><span class="token string">'f'</span><span class="token punctuation">,</span><span class="token string">'q'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_9-8-1-11-format-t899-8-1-11-format"><a href="#_9-8-1-11-format-t899-8-1-11-format" aria-hidden="true" class="header-anchor">#</a> 9.8.1.11 FORMAT [#](#t899.8.1.11  FORMAT)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">000.00</span>
<span class="token keyword">select</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token number">100.31111</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">100.31</span>
<span class="token keyword">select</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token number">100.31111</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">100</span>
<span class="token keyword">SELECT</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">423423234.65534453</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">423</span><span class="token punctuation">,</span><span class="token number">423</span><span class="token punctuation">,</span><span class="token number">234.66</span>
</code></pre></div><h4 id="_9-8-1-12-left-right-t909-8-1-12-left-right"><a href="#_9-8-1-12-left-right-t909-8-1-12-left-right" aria-hidden="true" class="header-anchor">#</a> 9.8.1.12 LEFT RIGHT [#](#t909.8.1.12 LEFT RIGHT)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">left</span><span class="token punctuation">(</span><span class="token string">'abcde12345'</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//abcde</span>
<span class="token keyword">select</span> <span class="token keyword">left</span><span class="token punctuation">(</span><span class="token string">'abcde12345'</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//12345</span>
</code></pre></div><h3 id="_9-8-2-数学函数-t919-8-2-数学函数"><a href="#_9-8-2-数学函数-t919-8-2-数学函数" aria-hidden="true" class="header-anchor">#</a> 9.8.2 数学函数 [#](#t919.8.2 数学函数)</h3> <table><thead><tr><th>函数名称</th> <th>描述</th></tr></thead> <tbody><tr><td>CEIL</td> <td>向上取整</td></tr> <tr><td>FLOOR</td> <td>向下取整数</td></tr> <tr><td>DIV</td> <td>整数取</td></tr> <tr><td>MOD</td> <td>取余(取模)</td></tr> <tr><td>POWER</td> <td>幂运算</td></tr> <tr><td>ROUND</td> <td>四舍五入</td></tr> <tr><td>TRUNCATE</td> <td>数字截取</td></tr></tbody></table> <h4 id="_9-8-2-1-四舍五入-t929-8-2-1-四舍五入"><a href="#_9-8-2-1-四舍五入-t929-8-2-1-四舍五入" aria-hidden="true" class="header-anchor">#</a> 9.8.2.1 四舍五入 [#](#t929.8.2.1 四舍五入)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">2.555</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-2-2-向上取整-t939-8-2-2-向上取整"><a href="#_9-8-2-2-向上取整-t939-8-2-2-向上取整" aria-hidden="true" class="header-anchor">#</a> 9.8.2.2 向上取整 [#](#t939.8.2.2 向上取整)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token number">1.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-2-3-向下取整-t949-8-2-3-向下取整"><a href="#_9-8-2-3-向下取整-t949-8-2-3-向下取整" aria-hidden="true" class="header-anchor">#</a> 9.8.2.3 向下取整 [#](#t949.8.2.3 向下取整)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token number">1.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-2-4-截断-t959-8-2-4-截断"><a href="#_9-8-2-4-截断-t959-8-2-4-截断" aria-hidden="true" class="header-anchor">#</a> 9.8.2.4 截断 [#](#t959.8.2.4 截断)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span><span class="token number">1.66</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-2-5-取余-t969-8-2-5-取余"><a href="#_9-8-2-5-取余-t969-8-2-5-取余" aria-hidden="true" class="header-anchor">#</a> 9.8.2.5 取余 [#](#t969.8.2.5 取余)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">mod</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_9-8-3-日期函数-t979-8-3-日期函数"><a href="#_9-8-3-日期函数-t979-8-3-日期函数" aria-hidden="true" class="header-anchor">#</a> 9.8.3 日期函数 [#](#t979.8.3 日期函数)</h3> <table><thead><tr><th>函数名称</th> <th>描述</th></tr></thead> <tbody><tr><td>NOW</td> <td>当前日期和时间</td></tr> <tr><td>CURDATE</td> <td>当前日期</td></tr> <tr><td>CURTIME</td> <td>当前时间</td></tr> <tr><td>DATE_ADD</td> <td>日期变化</td></tr> <tr><td>DATEDIFF</td> <td>计算日期差</td></tr> <tr><td>DATE_FORMAT</td> <td>日期格式化</td></tr></tbody></table> <h4 id="_9-8-3-1-返回日期时间-t989-8-3-1-返回日期时间"><a href="#_9-8-3-1-返回日期时间-t989-8-3-1-返回日期时间" aria-hidden="true" class="header-anchor">#</a> 9.8.3.1 返回日期时间 [#](#t989.8.3.1 返回日期时间)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span>:
</code></pre></div><h4 id="_9-8-3-2-返回日期-t999-8-3-2-返回日期"><a href="#_9-8-3-2-返回日期-t999-8-3-2-返回日期" aria-hidden="true" class="header-anchor">#</a> 9.8.3.2 返回日期 [#](#t999.8.3.2 返回日期)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span>:
</code></pre></div><h4 id="_9-8-3-3-返回日期-t1009-8-3-3-返回日期"><a href="#_9-8-3-3-返回日期-t1009-8-3-3-返回日期" aria-hidden="true" class="header-anchor">#</a> 9.8.3.3 返回日期 [#](#t1009.8.3.3 返回日期)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span>:
</code></pre></div><h4 id="_9-8-3-4-返回日期中指定的部分-t1019-8-3-4-返回日期中指定的部分"><a href="#_9-8-3-4-返回日期中指定的部分-t1019-8-3-4-返回日期中指定的部分" aria-hidden="true" class="header-anchor">#</a> 9.8.3.4 返回日期中指定的部分 [#](#t1019.8.3.4 返回日期中指定的部分)</h4> <p>年 月 日 小时 分钟 秒</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> MONTHNAME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DAY</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">HOUR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">MINUTE</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">SECOND</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-3-5-str-to-date-t1029-8-3-5-str-to-date"><a href="#_9-8-3-5-str-to-date-t1029-8-3-5-str-to-date" aria-hidden="true" class="header-anchor">#</a> 9.8.3.5 str_to_date [#](#t1029.8.3.5 str_to_date)</h4> <p>将日期格式的字符串转成指定格式的日期</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">'2018-09-09'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>序号</th> <th>格式符</th> <th>功能</th></tr></thead> <tbody><tr><td>1</td> <td>%Y</td> <td>4位的年份</td></tr> <tr><td>2</td> <td>%y</td> <td>2位的年份</td></tr> <tr><td>3</td> <td>%m</td> <td>月份(01,02)</td></tr> <tr><td>4</td> <td>%c</td> <td>月份(1,2)</td></tr> <tr><td>5</td> <td>%d</td> <td>日(01,02)</td></tr> <tr><td>6</td> <td>%H</td> <td>小时(24小时制)</td></tr> <tr><td>7</td> <td>%h</td> <td>小时(12小时制)</td></tr> <tr><td>8</td> <td>%i</td> <td>分钟(00,01)</td></tr> <tr><td>9</td> <td>%s</td> <td>秒(00,01)</td></tr></tbody></table> <h4 id="_9-8-3-6"><a href="#_9-8-3-6" aria-hidden="true" class="header-anchor">#</a> 9.8.3.6 <a href="#t1039.8.3.6">#</a></h4> <p>查询入职日期为1984-8-4的员工信息</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> hiredate <span class="token operator">=</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">'12-30 1984'</span><span class="token punctuation">,</span><span class="token string">'%m-%d %Y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-3-7-date-format-t1049-8-3-7-date-format"><a href="#_9-8-3-7-date-format-t1049-8-3-7-date-format" aria-hidden="true" class="header-anchor">#</a> 9.8.3.7 DATE_FORMAT [#](#t1049.8.3.7 DATE_FORMAT)</h4> <p>将日期转换成指定字符串</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'%Y年%m月%d日'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_9-8-3-8-date-add-t1059-8-3-8-date-add"><a href="#_9-8-3-8-date-add-t1059-8-3-8-date-add" aria-hidden="true" class="header-anchor">#</a> 9.8.3.8 DATE_ADD [#](#t1059.8.3.8 DATE_ADD)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">365</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">1</span> <span class="token keyword">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">1</span> <span class="token keyword">YEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-8-3-9-datediff-t1069-8-3-9-datediff"><a href="#_9-8-3-9-datediff-t1069-8-3-9-datediff" aria-hidden="true" class="header-anchor">#</a> 9.8.3.9 DATEDIFF [#](#t1069.8.3.9 DATEDIFF)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATEDIFF<span class="token punctuation">(</span><span class="token string">'2019-1-1'</span><span class="token punctuation">,</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_9-8-4-其它函数-t1079-8-4-其它函数"><a href="#_9-8-4-其它函数-t1079-8-4-其它函数" aria-hidden="true" class="header-anchor">#</a> 9.8.4 其它函数 [#](#t1079.8.4 其它函数)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CONNECTION_ID<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> LAST_INSERT_ID<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> MD5<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//摘要算法</span>
<span class="token keyword">SELECT</span> PASSWORD<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//修改当前用户的密码</span>
<span class="token keyword">SELECT</span> <span class="token keyword">User</span><span class="token punctuation">,</span>Password <span class="token keyword">from</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_9-9-流程控制函数-t1089-9-流程控制函数"><a href="#_9-9-流程控制函数-t1089-9-流程控制函数" aria-hidden="true" class="header-anchor">#</a> 9.9 流程控制函数 [#](#t1089.9 流程控制函数)</h3> <h4 id="_9-9-1-if-t1099-9-1-if"><a href="#_9-9-1-if-t1099-9-1-if" aria-hidden="true" class="header-anchor">#</a> 9.9.1 IF [#](#t1099.9.1 IF)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-9-2-case函数-t1109-9-2-case函数"><a href="#_9-9-2-case函数-t1109-9-2-case函数" aria-hidden="true" class="header-anchor">#</a> 9.9.2 CASE函数 [#](#t1109.9.2 CASE函数)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CASE</span> 要判断的字段和表达式
<span class="token keyword">WHEN</span> 常量<span class="token number">1</span> <span class="token keyword">then</span> 要显示的值或语句<span class="token number">1</span>
<span class="token keyword">WHEN</span> 常量<span class="token number">2</span> <span class="token keyword">then</span> 要显示的值或语句<span class="token number">2</span>
<span class="token keyword">ELSE</span> 要显示的值
<span class="token keyword">END</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
<span class="token keyword">CASE</span> grade
<span class="token keyword">WHEN</span> grade<span class="token operator">&lt;</span><span class="token number">60</span> <span class="token keyword">then</span> <span class="token string">'不及格'</span>
<span class="token keyword">WHEN</span> grade<span class="token operator">&gt;=</span><span class="token number">60</span> <span class="token keyword">then</span> <span class="token string">'及格'</span>
<span class="token keyword">ELSE</span> <span class="token string">'未知'</span>
<span class="token keyword">END</span>
<span class="token keyword">FROM</span> score<span class="token punctuation">;</span>
</code></pre></div><h3 id="_9-10-练习-t1119-10-练习"><a href="#_9-10-练习-t1119-10-练习" aria-hidden="true" class="header-anchor">#</a> 9.10 练习 [#](#t1119.10 练习)</h3> <h4 id="_9-10-1-把学生表中的邮箱地址全部由小写改为大写-t1129-10-1-把学生表中的邮箱地址全部由小写改为大写"><a href="#_9-10-1-把学生表中的邮箱地址全部由小写改为大写-t1129-10-1-把学生表中的邮箱地址全部由小写改为大写" aria-hidden="true" class="header-anchor">#</a> 9.10.1. 把学生表中的邮箱地址全部由小写改为大写 [#](#t1129.10.1. 把学生表中的邮箱地址全部由小写改为大写)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">update</span> student <span class="token keyword">set</span> email <span class="token operator">=</span> UPPER<span class="token punctuation">(</span>email<span class="token punctuation">)</span>
</code></pre></div><h4 id="_9-10-2-字段level中的数据是-1-1、1-2、2-3之类的，现在要求先按前半部分升序排列，再按后半部分降序排列-t1139-10-2-字段level中的数据是-1-1、1-2、2-3之类的，现在要求先按前半部分升序排列，再按后半部分降序排列"><a href="#_9-10-2-字段level中的数据是-1-1、1-2、2-3之类的，现在要求先按前半部分升序排列，再按后半部分降序排列-t1139-10-2-字段level中的数据是-1-1、1-2、2-3之类的，现在要求先按前半部分升序排列，再按后半部分降序排列" aria-hidden="true" class="header-anchor">#</a> 9.10.2. 字段level中的数据是 1-1、1-2、2-3之类的，现在要求先按前半部分升序排列，再按后半部分降序排列 [#](#t1139.10.2. 字段level中的数据是  1-1、1-2、2-3之类的，现在要求先按前半部分升序排列，再按后半部分降序排列)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> SUBSTR<span class="token punctuation">(</span><span class="token keyword">level</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SUBSTR<span class="token punctuation">(</span><span class="token keyword">level</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token keyword">user</span>
<span class="token keyword">order</span> <span class="token keyword">by</span>
<span class="token keyword">CONVERT</span><span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span><span class="token keyword">level</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SIGNED<span class="token punctuation">)</span> <span class="token keyword">asc</span><span class="token punctuation">,</span>
<span class="token keyword">CONVERT</span><span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span><span class="token keyword">level</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SIGNED<span class="token punctuation">)</span> <span class="token keyword">desc</span>

<span class="token keyword">SELECT</span> CAST<span class="token punctuation">(</span><span class="token string">'123'</span> <span class="token keyword">AS</span> SIGNED<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">CONVERT</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span>SIGNED<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_9-10-3-查询年龄超过18岁的男学生-t1149-10-3-查询年龄超过18岁的男学生"><a href="#_9-10-3-查询年龄超过18岁的男学生-t1149-10-3-查询年龄超过18岁的男学生" aria-hidden="true" class="header-anchor">#</a> 9.10.3. 查询年龄超过18岁的男学生 [#](#t1149.10.3. 查询年龄超过18岁的男学生)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student
<span class="token keyword">where</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">39</span>
</code></pre></div><h4 id="_9-10-4-查询出生月份是9月的山东省同学-t1159-10-4-查询出生月份是9月的山东省同学"><a href="#_9-10-4-查询出生月份是9月的山东省同学-t1159-10-4-查询出生月份是9月的山东省同学" aria-hidden="true" class="header-anchor">#</a> 9.10.4. 查询出生月份是9月的山东省同学 [#](#t1159.10.4. 查询出生月份是9月的山东省同学)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student
<span class="token keyword">where</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">9</span>
</code></pre></div><h4 id="_9-10-5-查询生日是今天的学生姓名-t1169-10-5-查询生日是今天的学生姓名"><a href="#_9-10-5-查询生日是今天的学生姓名-t1169-10-5-查询生日是今天的学生姓名" aria-hidden="true" class="header-anchor">#</a> 9.10.5. 查询生日是今天的学生姓名 [#](#t1169.10.5. 查询生日是今天的学生姓名)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student
<span class="token keyword">where</span> <span class="token keyword">DAY</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">DAY</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span>
</code></pre></div><h4 id="_9-10-6-查询id为3的同学邮箱域名-t1179-10-6-查询id为3的同学邮箱域名"><a href="#_9-10-6-查询id为3的同学邮箱域名-t1179-10-6-查询id为3的同学邮箱域名" aria-hidden="true" class="header-anchor">#</a> 9.10.6. 查询ID为3的同学邮箱域名 [#](#t1179.10.6. 查询ID为3的同学邮箱域名)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> SUBSTR<span class="token punctuation">(</span>email <span class="token keyword">FROM</span> INSTR<span class="token punctuation">(</span>email<span class="token punctuation">,</span><span class="token string">'@'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> student
<span class="token keyword">WHERE</span> ID <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_9-11-自定义函数-t1189-11-自定义函数"><a href="#_9-11-自定义函数-t1189-11-自定义函数" aria-hidden="true" class="header-anchor">#</a> 9.11 自定义函数 [#](#t1189.11 自定义函数)</h3> <ul><li>自定义函数是对MySQL的扩展，使用方式和内置函数相同</li> <li>函数必须要有参数和返回值</li> <li>函数可以接收任意类型的值，也可以接收这些类型的参数</li> <li>函数体由合法的SQL语句组成</li> <li>函数体可以是简单的SELECT语句或INSERT语句，如果是复合结构要用BEGIN...END</li> <li>函数体也可以包含声明，循环和流程控制</li> <li>返回值只能有一个</li></ul> <h4 id="_9-11-1-语法-t1199-11-1-语法"><a href="#_9-11-1-语法-t1199-11-1-语法" aria-hidden="true" class="header-anchor">#</a> 9.11.1 语法 [#](#t1199.11.1 语法)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> func_name <span class="token keyword">RETURNS</span>  {String<span class="token operator">|</span><span class="token keyword">Integer</span>}
body
</code></pre></div><h4 id="_9-11-2-实例-t1209-11-2-实例"><a href="#_9-11-2-实例-t1209-11-2-实例" aria-hidden="true" class="header-anchor">#</a> 9.11.2 实例 [#](#t1209.11.2 实例)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> znow<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token keyword">RETURN</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'%Y年%m月%d日 %H点:%i分:s秒'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> zadd<span class="token punctuation">(</span>num1 <span class="token keyword">INT</span><span class="token punctuation">,</span>num2 <span class="token keyword">INT</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">INT</span>
<span class="token keyword">RETURN</span> num1<span class="token operator">+</span>num2<span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stu<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> addUser<span class="token punctuation">(</span>name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">INT</span>
<span class="token keyword">BEGIN</span>
  <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> stu<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">RETURN</span> LAST_INSERT_ID<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span>

<span class="token keyword">SELECT</span> addUser<span class="token punctuation">(</span><span class="token string">'zxmf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">FUNCTION</span> addUser
</code></pre></div><h3 id="_9-12-模糊查询-t1219-12-模糊查询"><a href="#_9-12-模糊查询-t1219-12-模糊查询" aria-hidden="true" class="header-anchor">#</a> 9.12 模糊查询 [#](#t1219.12 模糊查询)</h3> <p>就是查询的条件是模糊的，不是特别明确的</p> <h4 id="_9-12-1-通配符-t1229-12-1-通配符"><a href="#_9-12-1-通配符-t1229-12-1-通配符" aria-hidden="true" class="header-anchor">#</a> 9.12.1 通配符 [#](#t1229.12.1 通配符)</h4> <p>代替一个或多个真正的字符，与LIKE 关键字一起使用 <img src="assets/matchchar.png" alt="matchchar"></p> <ul><li>查询姓名里包含a的 %</li> <li>查看姓名是以a开头的 %</li> <li>查看姓名第三个字符是a的 _</li></ul> <h4 id="_9-12-2-between-and-t1239-12-2-between-and"><a href="#_9-12-2-between-and-t1239-12-2-between-and" aria-hidden="true" class="header-anchor">#</a> 9.12.2 BETWEEN AND [#](#t1239.12.2  BETWEEN AND)</h4> <p>查询某一列在指定的规范内的记录，包括两个边界</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> score <span class="token keyword">where</span> grade <span class="token operator">between</span> <span class="token number">80</span> <span class="token operator">and</span> <span class="token number">100</span>
</code></pre></div><h4 id="_9-12-3-in-t1249-12-3-in"><a href="#_9-12-3-in-t1249-12-3-in" aria-hidden="true" class="header-anchor">#</a> 9.12.3 IN [#](#t1249.12.3  IN)</h4> <p>查询某一列中的值在列出的内容列表中</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> city <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'北京'</span><span class="token punctuation">,</span><span class="token string">'上海'</span><span class="token punctuation">,</span><span class="token string">'广东'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_9-12-4-is-nul-t1259-12-4-is-nul"><a href="#_9-12-4-is-nul-t1259-12-4-is-nul" aria-hidden="true" class="header-anchor">#</a> 9.12.4 IS NUL [#](#t1259.12.4 IS NUL)</h4> <ul><li>查询没有邮箱的 IS NUL</li> <li>查询有邮箱的 IS NOT NULL</li></ul> <p>.</p></div> <!----> <div class="content page-nav"><p class="inner"><span class="prev">
          ← <a href="/fe/29.mongodb-2.html" class="prev">
            通过配置项启动数据库
          </a></span> <span class="next"><a href="/fe/30.cms-2-mysql.html">
            什么是聚合函数
          </a> →
        </span></p></div> <div id="comment-container"><div class="gt-container"><div class="gt-initing"><i class="gt-loader"></i> <p class="gt-initing-text">Gitalking ...</p></div> <!----> <!----> <div><div class="gt-header"><a class="gt-avatar-github"><span class="gt-ico gt-ico-github"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M64 524C64 719.602 189.356 885.926 364.113 947.017 387.65799 953 384 936.115 384 924.767L384 847.107C248.118 863.007 242.674 773.052 233.5 758.001 215 726.501 171.5 718.501 184.5 703.501 215.5 687.501 247 707.501 283.5 761.501 309.956 800.642 361.366 794.075 387.658 787.497 393.403 763.997 405.637 743.042 422.353 726.638 281.774 701.609 223 615.67 223 513.5 223 464.053 239.322 418.406 271.465 381.627 251.142 320.928 273.421 269.19 276.337 261.415 334.458 256.131 394.888 302.993 399.549 306.685 432.663 297.835 470.341 293 512.5 293 554.924 293 592.81 297.896 626.075 306.853 637.426 298.219 693.46 258.054 747.5 262.966 750.382 270.652 772.185 321.292 753.058 381.083 785.516 417.956 802 463.809 802 513.5 802 615.874 742.99 701.953 601.803 726.786 625.381 750.003 640 782.295 640 818.008L640 930.653C640.752 939.626 640 948.664978 655.086 948.665 832.344 888.962 960 721.389 960 524 960 276.576 759.424 76 512 76 264.577 76 64 276.576 64 524Z"></path>
</svg>
</span> <!----></span></a> <div class="gt-header-comment"><textarea placeholder="Leave a comment" class="gt-header-textarea"></textarea> <div class="gt-header-preview markdown-body hide"></div> <div class="gt-header-controls"><a href="https://guides.github.com/features/mastering-markdown/" target="_blank" class="gt-header-controls-tip"><span class="gt-ico gt-ico-tip"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M512 366.949535c-16.065554 0-29.982212 13.405016-29.982212 29.879884l0 359.070251c0 16.167882 13.405016 29.879884 29.982212 29.879884 15.963226 0 29.879884-13.405016 29.879884-29.879884L541.879884 396.829419C541.879884 380.763865 528.474868 366.949535 512 366.949535L512 366.949535z"
    p-id="3083"></path>
  <path d="M482.017788 287.645048c0-7.776956 3.274508-15.553912 8.80024-21.181973 5.525732-5.525732 13.302688-8.80024 21.181973-8.80024 7.776956 0 15.553912 3.274508 21.079644 8.80024 5.525732 5.62806 8.80024 13.405016 8.80024 21.181973 0 7.776956-3.274508 15.656241-8.80024 21.181973-5.525732 5.525732-13.405016 8.697911-21.079644 8.697911-7.879285 0-15.656241-3.274508-21.181973-8.697911C485.292295 303.301289 482.017788 295.524333 482.017788 287.645048L482.017788 287.645048z"
    p-id="3084"></path>
  <path d="M512 946.844409c-239.8577 0-434.895573-195.037873-434.895573-434.895573 0-239.8577 195.037873-434.895573 434.895573-434.895573 239.755371 0 434.895573 195.037873 434.895573 434.895573C946.895573 751.806535 751.755371 946.844409 512 946.844409zM512 126.17088c-212.740682 0-385.880284 173.037274-385.880284 385.777955 0 212.740682 173.037274 385.777955 385.880284 385.777955 212.740682 0 385.777955-173.037274 385.777955-385.777955C897.777955 299.208154 724.740682 126.17088 512 126.17088z"
    p-id="3085"></path>
</svg>
</span> <span class="gt-ico-text">Markdown is supported</span></span></a> <!----> <button class="gt-btn gt-btn-preview"><span class="gt-btn-text">Preview</span> <!----></button> <button class="gt-btn gt-btn-login"><span class="gt-btn-text">Login with GitHub</span> <!----></button></div></div></div> <div class="gt-comments"><span></span> <p class="gt-comments-null">
                Be the first guy leaving a comment!
            </p> <!----></div></div></div></div></div></div> <!----></div> <div class="tool-group"><!----></div></div> <!----></div> <div class="background-mask" style="background:#f6f6f6;"></div></div></div>
    <script src="/assets/js/app.35b69267.js" defer></script><script src="/assets/js/66.86940f42.js" defer></script>
  </body>
</html>
