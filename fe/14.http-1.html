<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP协议和TCP协议 | Myfun&#39;s Blog</title>
    <meta name="description" content="tcp http">
    <link rel="icon" href="/favicon.ico">
    <meta name="keywords" content="tcp 协议 http">
    <link rel="preload" href="/assets/css/0.styles.6bc9bf16.css" as="style"><link rel="preload" href="/assets/js/app.35b69267.js" as="script"><link rel="preload" href="/assets/js/23.e55bab1b.js" as="script"><link rel="prefetch" href="/assets/js/10.a2f6c6ac.js"><link rel="prefetch" href="/assets/js/100.24b9a366.js"><link rel="prefetch" href="/assets/js/101.085f0585.js"><link rel="prefetch" href="/assets/js/102.66d5674f.js"><link rel="prefetch" href="/assets/js/103.7f71429c.js"><link rel="prefetch" href="/assets/js/104.13b0f535.js"><link rel="prefetch" href="/assets/js/105.0a093e85.js"><link rel="prefetch" href="/assets/js/106.a4a1db62.js"><link rel="prefetch" href="/assets/js/107.2634aacf.js"><link rel="prefetch" href="/assets/js/108.b393516d.js"><link rel="prefetch" href="/assets/js/109.769b78fb.js"><link rel="prefetch" href="/assets/js/11.fb483cc4.js"><link rel="prefetch" href="/assets/js/12.24a41994.js"><link rel="prefetch" href="/assets/js/13.a4762474.js"><link rel="prefetch" href="/assets/js/14.4a737bc9.js"><link rel="prefetch" href="/assets/js/15.548f4e99.js"><link rel="prefetch" href="/assets/js/16.b0d2654c.js"><link rel="prefetch" href="/assets/js/17.d43ab467.js"><link rel="prefetch" href="/assets/js/18.0c8f5f87.js"><link rel="prefetch" href="/assets/js/19.19ef59f8.js"><link rel="prefetch" href="/assets/js/2.436a35aa.js"><link rel="prefetch" href="/assets/js/20.24296203.js"><link rel="prefetch" href="/assets/js/21.c486888f.js"><link rel="prefetch" href="/assets/js/22.7e2305f9.js"><link rel="prefetch" href="/assets/js/24.1468433c.js"><link rel="prefetch" href="/assets/js/25.6d82837f.js"><link rel="prefetch" href="/assets/js/26.3c4b2f18.js"><link rel="prefetch" href="/assets/js/27.21725a4f.js"><link rel="prefetch" href="/assets/js/28.db16c479.js"><link rel="prefetch" href="/assets/js/29.cb9512e5.js"><link rel="prefetch" href="/assets/js/3.5c82c0f7.js"><link rel="prefetch" href="/assets/js/30.a4c25096.js"><link rel="prefetch" href="/assets/js/31.81741530.js"><link rel="prefetch" href="/assets/js/32.da6d2ac6.js"><link rel="prefetch" href="/assets/js/33.f6164ecd.js"><link rel="prefetch" href="/assets/js/34.0344ad22.js"><link rel="prefetch" href="/assets/js/35.07d4c8d3.js"><link rel="prefetch" href="/assets/js/36.2c6adcff.js"><link rel="prefetch" href="/assets/js/37.ceb5e95e.js"><link rel="prefetch" href="/assets/js/38.d39e96e5.js"><link rel="prefetch" href="/assets/js/39.fcf34164.js"><link rel="prefetch" href="/assets/js/4.267db630.js"><link rel="prefetch" href="/assets/js/40.bdf31768.js"><link rel="prefetch" href="/assets/js/41.cc61eccd.js"><link rel="prefetch" href="/assets/js/42.042e4349.js"><link rel="prefetch" href="/assets/js/43.b385d348.js"><link rel="prefetch" href="/assets/js/44.7669f3e2.js"><link rel="prefetch" href="/assets/js/45.2fb532f4.js"><link rel="prefetch" href="/assets/js/46.0cc86442.js"><link rel="prefetch" href="/assets/js/47.30448b83.js"><link rel="prefetch" href="/assets/js/48.8893a5ed.js"><link rel="prefetch" href="/assets/js/49.ed7be1ae.js"><link rel="prefetch" href="/assets/js/5.d8a5933e.js"><link rel="prefetch" href="/assets/js/50.e4af394b.js"><link rel="prefetch" href="/assets/js/51.502ca2a7.js"><link rel="prefetch" href="/assets/js/52.f9768ea6.js"><link rel="prefetch" href="/assets/js/53.0c762369.js"><link rel="prefetch" href="/assets/js/54.dad23d00.js"><link rel="prefetch" href="/assets/js/55.4298d6a4.js"><link rel="prefetch" href="/assets/js/56.d8505fa7.js"><link rel="prefetch" href="/assets/js/57.63d197ce.js"><link rel="prefetch" href="/assets/js/58.ae9a3671.js"><link rel="prefetch" href="/assets/js/59.cb04d7cd.js"><link rel="prefetch" href="/assets/js/6.a83fef9a.js"><link rel="prefetch" href="/assets/js/60.0cedb385.js"><link rel="prefetch" href="/assets/js/61.a5c3f820.js"><link rel="prefetch" href="/assets/js/62.fc2d969d.js"><link rel="prefetch" href="/assets/js/63.53f087e3.js"><link rel="prefetch" href="/assets/js/64.9384bc9a.js"><link rel="prefetch" href="/assets/js/65.bb5db767.js"><link rel="prefetch" href="/assets/js/66.86940f42.js"><link rel="prefetch" href="/assets/js/67.37215862.js"><link rel="prefetch" href="/assets/js/68.e0c14875.js"><link rel="prefetch" href="/assets/js/69.276f0d65.js"><link rel="prefetch" href="/assets/js/7.7e7cde5e.js"><link rel="prefetch" href="/assets/js/70.0fb38ae4.js"><link rel="prefetch" href="/assets/js/71.7c824b27.js"><link rel="prefetch" href="/assets/js/72.bc39810c.js"><link rel="prefetch" href="/assets/js/73.9917d9a4.js"><link rel="prefetch" href="/assets/js/74.7912f7da.js"><link rel="prefetch" href="/assets/js/75.c193b7ec.js"><link rel="prefetch" href="/assets/js/76.ecd4e536.js"><link rel="prefetch" href="/assets/js/77.842c5aba.js"><link rel="prefetch" href="/assets/js/78.0a67366d.js"><link rel="prefetch" href="/assets/js/79.324df7d4.js"><link rel="prefetch" href="/assets/js/8.7063c274.js"><link rel="prefetch" href="/assets/js/80.68c6326b.js"><link rel="prefetch" href="/assets/js/81.a7df7b21.js"><link rel="prefetch" href="/assets/js/82.abd9c0c2.js"><link rel="prefetch" href="/assets/js/83.fd0d8457.js"><link rel="prefetch" href="/assets/js/84.148b432c.js"><link rel="prefetch" href="/assets/js/85.32148693.js"><link rel="prefetch" href="/assets/js/86.7dc5fe11.js"><link rel="prefetch" href="/assets/js/87.bd1be392.js"><link rel="prefetch" href="/assets/js/88.2c0b86aa.js"><link rel="prefetch" href="/assets/js/89.3038cc8d.js"><link rel="prefetch" href="/assets/js/9.5cab2997.js"><link rel="prefetch" href="/assets/js/90.fb4057a1.js"><link rel="prefetch" href="/assets/js/91.4aa5adaf.js"><link rel="prefetch" href="/assets/js/92.aea0a62e.js"><link rel="prefetch" href="/assets/js/93.e2d0e9a7.js"><link rel="prefetch" href="/assets/js/94.a9e33a20.js"><link rel="prefetch" href="/assets/js/95.7c55098e.js"><link rel="prefetch" href="/assets/js/96.c8dfe1c0.js"><link rel="prefetch" href="/assets/js/97.35fc7df3.js"><link rel="prefetch" href="/assets/js/98.551b3ede.js"><link rel="prefetch" href="/assets/js/99.a8f5ffc4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6bc9bf16.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="wrap"><div class="theme-container container no-sidebar"><header class="navbar"><div class="nav-header"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"> <span class="site-name can-hide">
        Myfun's Blog
      </span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/interview/" class="nav-link">InterviewMap</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/css_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">CSS_Tricks</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/js_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">JS_Tricks</a></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://github.com/zhangximufeng" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/animate_resume_ts/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div> <!----></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/interview/" class="nav-link">InterviewMap</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/css_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">CSS_Tricks</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/js_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">JS_Tricks</a></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://github.com/zhangximufeng" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/animate_resume_ts/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div> <!----></nav> <!----></div> <div class="page-container"><div><div class="page card"><div class="content-header"><!----> <span class="page-timestamp">2018-09-21</span></div> <div class="content"><p></p><div class="table-of-contents"><ul><li><a href="#http协议和tcp协议">HTTP协议和TCP协议</a><ul><li><a href="#_1-1-长链接-t11-1-长链接">1.1 长链接 #</a></li><li><a href="#_1-2-管线化-t21-2-管线化">1.2 管线化 #</a></li><li><a href="#_2-uri和url-t32-uri和url">2\. URI和URL #</a></li><li><a href="#_3-http-t73-http">3\. HTTP #</a></li><li><a href="#_4-web服务器-t244-web服务器">4\. Web服务器 #</a></li><li><a href="#_5-首部-t315-首部">5\. 首部 #</a></li></ul></li></ul></div><p></p> <h1 id="http协议和tcp协议"><a href="#http协议和tcp协议" aria-hidden="true" class="header-anchor">#</a> HTTP协议和TCP协议</h1> <hr> <p><img src="assets/tpchttp-4647940.png" alt="tpchttp-4647940"></p> <h2 id="_1-1-长链接-t11-1-长链接"><a href="#_1-1-长链接-t11-1-长链接" aria-hidden="true" class="header-anchor">#</a> 1.1 长链接 [#](#t11.1 长链接)</h2> <p><img src="assets/connection.png" alt="connection"></p> <p><img src="assets/keepalive.png" alt="keepalive"></p> <h2 id="_1-2-管线化-t21-2-管线化"><a href="#_1-2-管线化-t21-2-管线化" aria-hidden="true" class="header-anchor">#</a> 1.2 管线化 [#](#t21.2 管线化)</h2> <p><img src="assets/pipeline.png" alt="pipeline"></p> <h2 id="_2-uri和url-t32-uri和url"><a href="#_2-uri和url-t32-uri和url" aria-hidden="true" class="header-anchor">#</a> 2. URI和URL [#](#t32. URI和URL)</h2> <h3 id="_2-1-uri-t42-1-uri"><a href="#_2-1-uri-t42-1-uri" aria-hidden="true" class="header-anchor">#</a> 2.1 URI [#](#t42.1 URI)</h3> <p>URI(Uniform Resource Identifier)是统一资源标识符,在某个规则下能把这个资源独一无二标示出来，比如人的身份证号</p> <ul><li>Uniform 不用根据上下文来识别资源指定的访问方式</li> <li>Resource 可以标识的任何东西</li> <li>Identifier 表示可标识的对象</li></ul> <h3 id="_2-2-url-t52-2-url"><a href="#_2-2-url-t52-2-url" aria-hidden="true" class="header-anchor">#</a> 2.2 URL [#](#t52.2 URL)</h3> <p>统一资源定位符，表示资源的地点，URL时使用浏览器访问WEB页面时需要输入的网页地址</p> <ul><li>Uniform 不用根据上下文来识别资源指定的访问方式</li> <li>Resource 可以标识的任何东西</li> <li>Location 定位</li></ul> <h3 id="_2-2-1-url的格式-t62-2-1-url的格式"><a href="#_2-2-1-url的格式-t62-2-1-url的格式" aria-hidden="true" class="header-anchor">#</a> 2.2.1 URL的格式 [#](#t62.2.1 URL的格式)</h3> <p><img src="assets/urlformat.png" alt="urlformat"></p> <ul><li>协议类型</li> <li>登录信息</li> <li>服务器地址</li> <li>服务器端口号</li> <li>带层次的文件路径</li> <li>查询字符串</li> <li>片段标识符</li></ul> <h2 id="_3-http-t73-http"><a href="#_3-http-t73-http" aria-hidden="true" class="header-anchor">#</a> 3. HTTP [#](#t73. HTTP)</h2> <ul><li>请求的一方叫客户端，响应的一方叫服务器端</li> <li>通过请求和响应达成通信</li> <li>HTTP是一种不保存状态的协议</li></ul> <h3 id="_3-1-请求报文-t83-1-请求报文"><a href="#_3-1-请求报文-t83-1-请求报文" aria-hidden="true" class="header-anchor">#</a> 3.1 请求报文 [#](#t83.1 请求报文)</h3> <p><img src="assets/request.png" alt="request"></p> <p><img src="assets/requestheader.png" alt="requestheader"></p> <ul><li><p>请求行</p> <ul><li><p>方法</p> <ul><li><p>GET 获取资源</p></li> <li><p>POST 向服务器端发送数据，传输实体主体</p></li> <li><p>PUT 传输文件</p></li> <li><p>HEAD 获取报文首部</p></li> <li><p>DELETE 删除文件</p></li> <li><p>OPTIONS 询问支持的方法</p></li> <li><p>TRACE 追踪路径</p> <p><img src="assets/trace.png" alt="trace"></p></li></ul></li> <li><p>协议/版本号</p></li> <li><p>URL</p></li></ul></li> <li><p>请求头</p> <ul><li>通用首部(General Header)</li> <li>请求首部(Request Header)</li> <li>响应首部(Response Header)</li> <li>实体首部(Entity Header Fields)</li></ul></li> <li><p>请求体</p></li></ul> <h3 id="_3-2-响应报文-t93-2-响应报文"><a href="#_3-2-响应报文-t93-2-响应报文" aria-hidden="true" class="header-anchor">#</a> 3.2 响应报文 [#](#t93.2 响应报文)</h3> <p><img src="assets/response.png" alt="response"></p> <p><img src="assets/responseheader.png" alt="responseheader"></p> <ul><li>响应行</li> <li>响应头</li> <li>响应体</li></ul> <h3 id="_3-3-编码-t103-3-编码"><a href="#_3-3-编码-t103-3-编码" aria-hidden="true" class="header-anchor">#</a> 3.3 编码 [#](#t103.3 编码)</h3> <p>HTTP可以在传输的过程中通过编码提升传输效率，但是会消耗更多的CPU时间。</p> <h3 id="_3-3-1-编码压缩-t113-3-1-编码压缩"><a href="#_3-3-1-编码压缩-t113-3-1-编码压缩" aria-hidden="true" class="header-anchor">#</a> 3.3.1 编码压缩 [#](#t113.3.1  编码压缩)</h3> <p>发送文件时可以先用ZIP压缩功能后再发送文件</p> <p><img src="assets/compress.png" alt="compress"></p> <ul><li>gzip</li> <li>compress</li> <li>deflate</li> <li>identify</li></ul> <h3 id="_3-3-2-分割发送的分块传输编码-t123-3-2-分割发送的分块传输编码"><a href="#_3-3-2-分割发送的分块传输编码-t123-3-2-分割发送的分块传输编码" aria-hidden="true" class="header-anchor">#</a> 3.3.2 分割发送的分块传输编码 [#](#t123.3.2  分割发送的分块传输编码)</h3> <p>请求的实体在尚未传输完成前浏览器不能显示。所以在传输大容量数据时，通过把数据分割成多块，能让浏览器逐步显示页面。</p> <p><img src="assets/encoding.png" alt="encoding"></p> <h3 id="_3-3-3-多部分对象集合-t133-3-3-多部分对象集合"><a href="#_3-3-3-多部分对象集合-t133-3-3-多部分对象集合" aria-hidden="true" class="header-anchor">#</a> 3.3.3 多部分对象集合 [#](#t133.3.3 多部分对象集合)</h3> <ul><li>一份报文主体中可以包含多类型实体。</li> <li>使用boundary字符串来划分多部分对象指明的各类实体。在各个实体起始行之前插入**--<strong>标记,多部分对象集合最后插入</strong>--**标记</li></ul> <p><img src="assets/mime.png" alt="mime"></p> <h4 id="_3-3-3-1-multiparty-form-data-t143-3-3-1-multiparty-form-data"><a href="#_3-3-3-1-multiparty-form-data-t143-3-3-1-multiparty-form-data" aria-hidden="true" class="header-anchor">#</a> 3.3.3.1 multiparty/form-data [#](#t143.3.3.1 multiparty/form-data)</h4> <p>上传表单时使用multiparty/form-data</p> <p><img src="assets/form-data.png" alt="form-data"></p> <h4 id="_3-3-3-2-multipart-byteranges-206-particial-content"><a href="#_3-3-3-2-multipart-byteranges-206-particial-content" aria-hidden="true" class="header-anchor">#</a> 3.3.3.2 multipart/byteranges 206(Particial Content)</h4> <p>状态码(Partical Content)响应报文中包含多个范围时使用</p> <p><img src="assets/byteranges.png" alt="byteranges"></p> <h3 id="_3-3-4-获取部分内容的范围请求-t163-3-4-获取部分内容的范围请求"><a href="#_3-3-4-获取部分内容的范围请求-t163-3-4-获取部分内容的范围请求" aria-hidden="true" class="header-anchor">#</a> 3.3.4 获取部分内容的范围请求 [#](#t163.3.4 获取部分内容的范围请求)</h3> <p>为了实现中断恢复下载的需求，需要能下载指定下载的实体范围</p> <ul><li><p>请求头中的Range来指定 资源的byte范围</p></li> <li><p>响应会返回状态码206响应报文</p></li> <li><p>对于多重范围的范围请求，响应会在首部字段<code>Content-Type</code>中标明<code>multipart/byteranges</code></p> <p><img src="assets/partial.png" alt="partial"></p> <p><img src="assets/bytes.png" alt="bytes"></p></li></ul> <h3 id="_3-4-内容协商-t173-4-内容协商"><a href="#_3-4-内容协商-t173-4-内容协商" aria-hidden="true" class="header-anchor">#</a> 3.4 内容协商 [#](#t173.4 内容协商)</h3> <ul><li>首部字段
<ul><li>Accept</li> <li>Accept-Charset</li> <li>Accept-Encoding</li> <li>Accept-Language</li> <li>Content-Language</li></ul></li> <li>协商类型
<ul><li>服务器驱动</li> <li>客户端驱动协商</li> <li>透明协商</li></ul></li></ul> <h3 id="_3-5-状态码-t183-5-状态码"><a href="#_3-5-状态码-t183-5-状态码" aria-hidden="true" class="header-anchor">#</a> 3.5 状态码 [#](#t183.5 状态码)</h3> <p>状态码负责表示客户端请求的返回结果、标记服务器端是否正常、通知出现的错误</p> <h4 id="_3-5-1-状态码类别-t193-5-1-状态码类别"><a href="#_3-5-1-状态码类别-t193-5-1-状态码类别" aria-hidden="true" class="header-anchor">#</a> 3.5.1 状态码类别 [#](#t193.5.1 状态码类别)</h4> <table><thead><tr><th>类别</th> <th>原因短语</th></tr></thead> <tbody><tr><td>1XX</td> <td>Informational(信息性状态码)</td></tr> <tr><td>2XX</td> <td>Success(成功状态码)</td></tr> <tr><td>3XX</td> <td>Redirection(重定向)</td></tr> <tr><td>4XX</td> <td>Client Error(客户端错误状态码)</td></tr> <tr><td>5XX</td> <td>Server Error(服务器错误状态吗)</td></tr></tbody></table> <h4 id="_3-5-2-2xx-成功-t203-5-2-2xx-成功"><a href="#_3-5-2-2xx-成功-t203-5-2-2xx-成功" aria-hidden="true" class="header-anchor">#</a> 3.5.2 2XX 成功 [#](#t203.5.2 2XX 成功)</h4> <ul><li>200(OK 客户端发过来的数据被正常处理</li> <li>204(Not Content 正常响应，没有实体</li> <li>206(Partial Content 范围请求，返回部分数据，响应报文中由Content-Range指定实体内容</li></ul> <h4 id="_3-5-3-3xx-重定向-t213-5-3-3xx-重定向"><a href="#_3-5-3-3xx-重定向-t213-5-3-3xx-重定向" aria-hidden="true" class="header-anchor">#</a> 3.5.3 3XX 重定向 [#](#t213.5.3 3XX 重定向)</h4> <ul><li>301(Moved Permanently) 永久重定向</li> <li>302(Found) 临时重定向，规范要求方法名不变，但是都会改变</li> <li>303(See Other) 和302类似，但必须用GET方法</li> <li>304(Not Modified) 状态未改变 配合(If-Match、If-Modified-Since、If-None_Match、If-Range、If-Unmodified-Since)</li> <li>307(Temporary Redirect) 临时重定向，不该改变请求方法</li></ul> <h4 id="_3-5-4-4xx-客户端错误-t223-5-4-4xx-客户端错误"><a href="#_3-5-4-4xx-客户端错误-t223-5-4-4xx-客户端错误" aria-hidden="true" class="header-anchor">#</a> 3.5.4 4XX 客户端错误 [#](#t223.5.4 4XX 客户端错误)</h4> <ul><li>400(Bad Request) 请求报文语法错误</li> <li>401 (unauthorized) 需要认证</li> <li>403(Forbidden) 服务器拒绝访问对应的资源</li> <li>404(Not Found) 服务器上无法找到资源</li></ul> <h4 id="_3-5-5-5xx-服务器端错误-t233-5-5-5xx-服务器端错误"><a href="#_3-5-5-5xx-服务器端错误-t233-5-5-5xx-服务器端错误" aria-hidden="true" class="header-anchor">#</a> 3.5.5 5XX 服务器端错误 [#](#t233.5.5 5XX 服务器端错误)</h4> <ul><li>500(Internal Server Error)服务器故障</li> <li>503(Service Unavailable) 服务器处于超负载或正在停机维护</li></ul> <h2 id="_4-web服务器-t244-web服务器"><a href="#_4-web服务器-t244-web服务器" aria-hidden="true" class="header-anchor">#</a> 4. Web服务器 [#](#t244. Web服务器)</h2> <h3 id="_4-1-虚拟主机-virtual-host"><a href="#_4-1-虚拟主机-virtual-host" aria-hidden="true" class="header-anchor">#</a> 4.1 虚拟主机(Virtual Host)</h3> <p>一台HTTP服务器上搭建多个Web站点,客户端发送请求时必须在Host首部完整指定主机名或域名的URL</p> <h3 id="_4-2-通信转发程序-代理、网关-t264-2-通信转发程序-代理、网关"><a href="#_4-2-通信转发程序-代理、网关-t264-2-通信转发程序-代理、网关" aria-hidden="true" class="header-anchor">#</a> 4.2 通信转发程序:代理、网关 [#](#t264.2 通信转发程序:代理、网关)</h3> <h4 id="_4-2-1-代理-t274-2-1-代理"><a href="#_4-2-1-代理-t274-2-1-代理" aria-hidden="true" class="header-anchor">#</a> 4.2.1 代理 [#](#t274.2.1 代理)</h4> <p>代理就是客户端和服务器的中间人</p> <p><img src="assets/proxy.png" alt="proxy"></p> <h5 id="_4-2-1-1-为啥使用代理-t284-2-1-1-为啥使用代理"><a href="#_4-2-1-1-为啥使用代理-t284-2-1-1-为啥使用代理" aria-hidden="true" class="header-anchor">#</a> 4.2.1.1 为啥使用代理 [#](#t284.2.1.1 为啥使用代理)</h5> <ul><li><p>利用缓存技术减少网络流量</p></li> <li><p>组织内部针对网站进行访问控制</p></li> <li><p>获取访问日志</p> <h5 id="_4-2-1-2-代理的分类-t294-2-1-2-代理的分类"><a href="#_4-2-1-2-代理的分类-t294-2-1-2-代理的分类" aria-hidden="true" class="header-anchor">#</a> 4.2.1.2 代理的分类 [#](#t294.2.1.2 代理的分类)</h5></li> <li><p>缓存代理 会预先把资源副本保存在服务器上</p></li> <li><p>透明代理 不对报文进行任何加工</p></li></ul> <h4 id="_4-2-2-网关-t304-2-2-网关"><a href="#_4-2-2-网关-t304-2-2-网关" aria-hidden="true" class="header-anchor">#</a> 4.2.2 网关 [#](#t304.2.2 网关)</h4> <p>接收从客户端发送来的数据时，会转发给其他服务器处理，再由自己返回</p> <ul><li>使通信线路上的服务器提供非HTTP协议服务</li> <li>提高通信安全性</li></ul> <p><img src="assets/gate-way.png" alt="gate-way"></p> <h2 id="_5-首部-t315-首部"><a href="#_5-首部-t315-首部" aria-hidden="true" class="header-anchor">#</a> 5. 首部 [#](#t315. 首部)</h2> <h3 id="_5-1-通用首部字段-t325-1-通用首部字段"><a href="#_5-1-通用首部字段-t325-1-通用首部字段" aria-hidden="true" class="header-anchor">#</a> 5.1 通用首部字段 [#](#t325.1 通用首部字段)</h3> <table><thead><tr><th>首部字段名</th> <th>说明</th></tr></thead> <tbody><tr><td>Cache-Control</td> <td>控制缓存行为</td></tr> <tr><td>Connection</td> <td>链接的管理</td></tr> <tr><td>Date</td> <td>报文日期</td></tr> <tr><td>Pragma</td> <td>报文指令</td></tr> <tr><td>Trailer</td> <td>报文尾部的首部</td></tr> <tr><td>Trasfer-Encoding</td> <td>指定报文主体的传输编码方式</td></tr> <tr><td>Upgrade</td> <td>升级为其他协议</td></tr> <tr><td>Via</td> <td>代理服务器信息</td></tr> <tr><td>Warning</td> <td>错误通知</td></tr></tbody></table> <h3 id="_5-2-请求首部字段-t335-2-请求首部字段"><a href="#_5-2-请求首部字段-t335-2-请求首部字段" aria-hidden="true" class="header-anchor">#</a> 5.2 请求首部字段 [#](#t335.2 请求首部字段)</h3> <table><thead><tr><th>首部字段名</th> <th>说明</th></tr></thead> <tbody><tr><td>Accept</td> <td>用户代理可处理的媒体类型</td></tr> <tr><td>Accept-Charset</td> <td>优先的字符集</td></tr> <tr><td>Accept-Encoding</td> <td>优先的编码</td></tr> <tr><td>Accept-Langulage</td> <td>优先的语言</td></tr> <tr><td>Authorization</td> <td>Web认证信息</td></tr> <tr><td>Expect</td> <td>期待服务器的特定行为</td></tr> <tr><td>From</td> <td>用户的电子邮箱地址</td></tr> <tr><td>Host</td> <td>请求资源所在的服务器</td></tr> <tr><td>If-Match</td> <td>比较实体标记</td></tr> <tr><td>If-Modified-Since</td> <td>比较资源的更新时间</td></tr> <tr><td>If-None-Match</td> <td>比较实体标记</td></tr> <tr><td>If-Range</td> <td>资源未更新时发送实体Byte的范围请求</td></tr> <tr><td>If-Unmodified-Since</td> <td>比较资源的更新时间(和If-Modified-Since相反)</td></tr> <tr><td>Max-Forwards</td> <td>最大传输跳数</td></tr> <tr><td>Proxy-Authorization</td> <td>代理服务器需要客户端认证</td></tr> <tr><td>Range</td> <td>实体字节范围请求</td></tr> <tr><td>Referer</td> <td>请求中的URI的原始获取方</td></tr> <tr><td>TE</td> <td>传输编码的优先级</td></tr> <tr><td>User-Agent</td> <td>HTTP客户端程序的信息</td></tr></tbody></table> <h3 id="_5-3-响应首部字段-t345-3-响应首部字段"><a href="#_5-3-响应首部字段-t345-3-响应首部字段" aria-hidden="true" class="header-anchor">#</a> 5.3 响应首部字段 [#](#t345.3 响应首部字段)</h3> <table><thead><tr><th>首部字段名</th> <th>说明</th></tr></thead> <tbody><tr><td>Accept-Ranges</td> <td>是否接受字节范围</td></tr> <tr><td>Age</td> <td>资源的创建时间</td></tr> <tr><td>ETag</td> <td>资源的匹配信息</td></tr> <tr><td>Location</td> <td>客户端重定向至指定的URI</td></tr> <tr><td>Proxy-Authenticate</td> <td>代理服务器对客户端的认证信息</td></tr> <tr><td>Retry-After</td> <td>再次发送请求的时机</td></tr> <tr><td>Server</td> <td>服务器的信息</td></tr> <tr><td>Vary</td> <td>代理服务器缓存的管理信息</td></tr> <tr><td>www-Authenticate</td> <td>服务器对客户端的认证</td></tr></tbody></table> <h3 id="_5-4-实体首部字段-t355-4-实体首部字段"><a href="#_5-4-实体首部字段-t355-4-实体首部字段" aria-hidden="true" class="header-anchor">#</a> 5.4 实体首部字段 [#](#t355.4 实体首部字段)</h3> <table><thead><tr><th>首部字段名</th> <th>说明</th></tr></thead> <tbody><tr><td>Allow</td> <td>资源可支持的HTTP方法</td></tr> <tr><td>Content-Encoding</td> <td>实体的编码方式</td></tr> <tr><td>Content-Language</td> <td>实体的自然语言</td></tr> <tr><td>Content-Length</td> <td>实体的内容大小(字节为单位)</td></tr> <tr><td>Content-Location</td> <td>替代对应资源的URI</td></tr> <tr><td>Content-MD5</td> <td>实体的报文摘要</td></tr> <tr><td>Content-Range</td> <td>实体的位置范围</td></tr> <tr><td>Content-Type</td> <td>实体主体的媒体类型</td></tr> <tr><td>Expires</td> <td>实体过期时间</td></tr> <tr><td>Last-Modified</td> <td>资源的最后修改时间</td></tr></tbody></table></div> <!----> <div class="content page-nav"><p class="inner"><span class="prev">
          ← <a href="/fe/15.compress.html" class="prev">
            压缩与解压缩处理
          </a></span> <span class="next"><a href="/fe/12.Network-1.html">
            协议的概念和作用
          </a> →
        </span></p></div> <div id="comment-container"><div class="gt-container"><div class="gt-initing"><i class="gt-loader"></i> <p class="gt-initing-text">Gitalking ...</p></div> <!----> <!----> <div><div class="gt-header"><a class="gt-avatar-github"><span class="gt-ico gt-ico-github"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M64 524C64 719.602 189.356 885.926 364.113 947.017 387.65799 953 384 936.115 384 924.767L384 847.107C248.118 863.007 242.674 773.052 233.5 758.001 215 726.501 171.5 718.501 184.5 703.501 215.5 687.501 247 707.501 283.5 761.501 309.956 800.642 361.366 794.075 387.658 787.497 393.403 763.997 405.637 743.042 422.353 726.638 281.774 701.609 223 615.67 223 513.5 223 464.053 239.322 418.406 271.465 381.627 251.142 320.928 273.421 269.19 276.337 261.415 334.458 256.131 394.888 302.993 399.549 306.685 432.663 297.835 470.341 293 512.5 293 554.924 293 592.81 297.896 626.075 306.853 637.426 298.219 693.46 258.054 747.5 262.966 750.382 270.652 772.185 321.292 753.058 381.083 785.516 417.956 802 463.809 802 513.5 802 615.874 742.99 701.953 601.803 726.786 625.381 750.003 640 782.295 640 818.008L640 930.653C640.752 939.626 640 948.664978 655.086 948.665 832.344 888.962 960 721.389 960 524 960 276.576 759.424 76 512 76 264.577 76 64 276.576 64 524Z"></path>
</svg>
</span> <!----></span></a> <div class="gt-header-comment"><textarea placeholder="Leave a comment" class="gt-header-textarea"></textarea> <div class="gt-header-preview markdown-body hide"></div> <div class="gt-header-controls"><a href="https://guides.github.com/features/mastering-markdown/" target="_blank" class="gt-header-controls-tip"><span class="gt-ico gt-ico-tip"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M512 366.949535c-16.065554 0-29.982212 13.405016-29.982212 29.879884l0 359.070251c0 16.167882 13.405016 29.879884 29.982212 29.879884 15.963226 0 29.879884-13.405016 29.879884-29.879884L541.879884 396.829419C541.879884 380.763865 528.474868 366.949535 512 366.949535L512 366.949535z"
    p-id="3083"></path>
  <path d="M482.017788 287.645048c0-7.776956 3.274508-15.553912 8.80024-21.181973 5.525732-5.525732 13.302688-8.80024 21.181973-8.80024 7.776956 0 15.553912 3.274508 21.079644 8.80024 5.525732 5.62806 8.80024 13.405016 8.80024 21.181973 0 7.776956-3.274508 15.656241-8.80024 21.181973-5.525732 5.525732-13.405016 8.697911-21.079644 8.697911-7.879285 0-15.656241-3.274508-21.181973-8.697911C485.292295 303.301289 482.017788 295.524333 482.017788 287.645048L482.017788 287.645048z"
    p-id="3084"></path>
  <path d="M512 946.844409c-239.8577 0-434.895573-195.037873-434.895573-434.895573 0-239.8577 195.037873-434.895573 434.895573-434.895573 239.755371 0 434.895573 195.037873 434.895573 434.895573C946.895573 751.806535 751.755371 946.844409 512 946.844409zM512 126.17088c-212.740682 0-385.880284 173.037274-385.880284 385.777955 0 212.740682 173.037274 385.777955 385.880284 385.777955 212.740682 0 385.777955-173.037274 385.777955-385.777955C897.777955 299.208154 724.740682 126.17088 512 126.17088z"
    p-id="3085"></path>
</svg>
</span> <span class="gt-ico-text">Markdown is supported</span></span></a> <!----> <button class="gt-btn gt-btn-preview"><span class="gt-btn-text">Preview</span> <!----></button> <button class="gt-btn gt-btn-login"><span class="gt-btn-text">Login with GitHub</span> <!----></button></div></div></div> <div class="gt-comments"><span></span> <p class="gt-comments-null">
                Be the first guy leaving a comment!
            </p> <!----></div></div></div></div></div></div> <!----></div> <div class="tool-group"><!----></div></div> <!----></div> <div class="background-mask" style="background:#f6f6f6;"></div></div></div>
    <script src="/assets/js/app.35b69267.js" defer></script><script src="/assets/js/23.e55bab1b.js" defer></script>
  </body>
</html>
