<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>什么是聚合函数 | Myfun&#39;s Blog</title>
    <meta name="description" content="cms">
    <link rel="icon" href="/favicon.ico">
    <meta name="keywords" content="cms">
    <link rel="preload" href="/assets/css/0.styles.6bc9bf16.css" as="style"><link rel="preload" href="/assets/js/app.35b69267.js" as="script"><link rel="preload" href="/assets/js/67.37215862.js" as="script"><link rel="prefetch" href="/assets/js/10.a2f6c6ac.js"><link rel="prefetch" href="/assets/js/100.24b9a366.js"><link rel="prefetch" href="/assets/js/101.085f0585.js"><link rel="prefetch" href="/assets/js/102.66d5674f.js"><link rel="prefetch" href="/assets/js/103.7f71429c.js"><link rel="prefetch" href="/assets/js/104.13b0f535.js"><link rel="prefetch" href="/assets/js/105.0a093e85.js"><link rel="prefetch" href="/assets/js/106.a4a1db62.js"><link rel="prefetch" href="/assets/js/107.2634aacf.js"><link rel="prefetch" href="/assets/js/108.b393516d.js"><link rel="prefetch" href="/assets/js/109.769b78fb.js"><link rel="prefetch" href="/assets/js/11.fb483cc4.js"><link rel="prefetch" href="/assets/js/12.24a41994.js"><link rel="prefetch" href="/assets/js/13.a4762474.js"><link rel="prefetch" href="/assets/js/14.4a737bc9.js"><link rel="prefetch" href="/assets/js/15.548f4e99.js"><link rel="prefetch" href="/assets/js/16.b0d2654c.js"><link rel="prefetch" href="/assets/js/17.d43ab467.js"><link rel="prefetch" href="/assets/js/18.0c8f5f87.js"><link rel="prefetch" href="/assets/js/19.19ef59f8.js"><link rel="prefetch" href="/assets/js/2.436a35aa.js"><link rel="prefetch" href="/assets/js/20.24296203.js"><link rel="prefetch" href="/assets/js/21.c486888f.js"><link rel="prefetch" href="/assets/js/22.7e2305f9.js"><link rel="prefetch" href="/assets/js/23.e55bab1b.js"><link rel="prefetch" href="/assets/js/24.1468433c.js"><link rel="prefetch" href="/assets/js/25.6d82837f.js"><link rel="prefetch" href="/assets/js/26.3c4b2f18.js"><link rel="prefetch" href="/assets/js/27.21725a4f.js"><link rel="prefetch" href="/assets/js/28.db16c479.js"><link rel="prefetch" href="/assets/js/29.cb9512e5.js"><link rel="prefetch" href="/assets/js/3.5c82c0f7.js"><link rel="prefetch" href="/assets/js/30.a4c25096.js"><link rel="prefetch" href="/assets/js/31.81741530.js"><link rel="prefetch" href="/assets/js/32.da6d2ac6.js"><link rel="prefetch" href="/assets/js/33.f6164ecd.js"><link rel="prefetch" href="/assets/js/34.0344ad22.js"><link rel="prefetch" href="/assets/js/35.07d4c8d3.js"><link rel="prefetch" href="/assets/js/36.2c6adcff.js"><link rel="prefetch" href="/assets/js/37.ceb5e95e.js"><link rel="prefetch" href="/assets/js/38.d39e96e5.js"><link rel="prefetch" href="/assets/js/39.fcf34164.js"><link rel="prefetch" href="/assets/js/4.267db630.js"><link rel="prefetch" href="/assets/js/40.bdf31768.js"><link rel="prefetch" href="/assets/js/41.cc61eccd.js"><link rel="prefetch" href="/assets/js/42.042e4349.js"><link rel="prefetch" href="/assets/js/43.b385d348.js"><link rel="prefetch" href="/assets/js/44.7669f3e2.js"><link rel="prefetch" href="/assets/js/45.2fb532f4.js"><link rel="prefetch" href="/assets/js/46.0cc86442.js"><link rel="prefetch" href="/assets/js/47.30448b83.js"><link rel="prefetch" href="/assets/js/48.8893a5ed.js"><link rel="prefetch" href="/assets/js/49.ed7be1ae.js"><link rel="prefetch" href="/assets/js/5.d8a5933e.js"><link rel="prefetch" href="/assets/js/50.e4af394b.js"><link rel="prefetch" href="/assets/js/51.502ca2a7.js"><link rel="prefetch" href="/assets/js/52.f9768ea6.js"><link rel="prefetch" href="/assets/js/53.0c762369.js"><link rel="prefetch" href="/assets/js/54.dad23d00.js"><link rel="prefetch" href="/assets/js/55.4298d6a4.js"><link rel="prefetch" href="/assets/js/56.d8505fa7.js"><link rel="prefetch" href="/assets/js/57.63d197ce.js"><link rel="prefetch" href="/assets/js/58.ae9a3671.js"><link rel="prefetch" href="/assets/js/59.cb04d7cd.js"><link rel="prefetch" href="/assets/js/6.a83fef9a.js"><link rel="prefetch" href="/assets/js/60.0cedb385.js"><link rel="prefetch" href="/assets/js/61.a5c3f820.js"><link rel="prefetch" href="/assets/js/62.fc2d969d.js"><link rel="prefetch" href="/assets/js/63.53f087e3.js"><link rel="prefetch" href="/assets/js/64.9384bc9a.js"><link rel="prefetch" href="/assets/js/65.bb5db767.js"><link rel="prefetch" href="/assets/js/66.86940f42.js"><link rel="prefetch" href="/assets/js/68.e0c14875.js"><link rel="prefetch" href="/assets/js/69.276f0d65.js"><link rel="prefetch" href="/assets/js/7.7e7cde5e.js"><link rel="prefetch" href="/assets/js/70.0fb38ae4.js"><link rel="prefetch" href="/assets/js/71.7c824b27.js"><link rel="prefetch" href="/assets/js/72.bc39810c.js"><link rel="prefetch" href="/assets/js/73.9917d9a4.js"><link rel="prefetch" href="/assets/js/74.7912f7da.js"><link rel="prefetch" href="/assets/js/75.c193b7ec.js"><link rel="prefetch" href="/assets/js/76.ecd4e536.js"><link rel="prefetch" href="/assets/js/77.842c5aba.js"><link rel="prefetch" href="/assets/js/78.0a67366d.js"><link rel="prefetch" href="/assets/js/79.324df7d4.js"><link rel="prefetch" href="/assets/js/8.7063c274.js"><link rel="prefetch" href="/assets/js/80.68c6326b.js"><link rel="prefetch" href="/assets/js/81.a7df7b21.js"><link rel="prefetch" href="/assets/js/82.abd9c0c2.js"><link rel="prefetch" href="/assets/js/83.fd0d8457.js"><link rel="prefetch" href="/assets/js/84.148b432c.js"><link rel="prefetch" href="/assets/js/85.32148693.js"><link rel="prefetch" href="/assets/js/86.7dc5fe11.js"><link rel="prefetch" href="/assets/js/87.bd1be392.js"><link rel="prefetch" href="/assets/js/88.2c0b86aa.js"><link rel="prefetch" href="/assets/js/89.3038cc8d.js"><link rel="prefetch" href="/assets/js/9.5cab2997.js"><link rel="prefetch" href="/assets/js/90.fb4057a1.js"><link rel="prefetch" href="/assets/js/91.4aa5adaf.js"><link rel="prefetch" href="/assets/js/92.aea0a62e.js"><link rel="prefetch" href="/assets/js/93.e2d0e9a7.js"><link rel="prefetch" href="/assets/js/94.a9e33a20.js"><link rel="prefetch" href="/assets/js/95.7c55098e.js"><link rel="prefetch" href="/assets/js/96.c8dfe1c0.js"><link rel="prefetch" href="/assets/js/97.35fc7df3.js"><link rel="prefetch" href="/assets/js/98.551b3ede.js"><link rel="prefetch" href="/assets/js/99.a8f5ffc4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6bc9bf16.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="wrap"><div class="theme-container container no-sidebar"><header class="navbar"><div class="nav-header"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"> <span class="site-name can-hide">
        Myfun's Blog
      </span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/interview/" class="nav-link">InterviewMap</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/css_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">CSS_Tricks</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/js_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">JS_Tricks</a></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://github.com/zhangximufeng" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/animate_resume_ts/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div> <!----></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/interview/" class="nav-link">InterviewMap</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/css_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">CSS_Tricks</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/js_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">JS_Tricks</a></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://github.com/zhangximufeng" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/animate_resume_ts/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div> <!----></nav> <!----></div> <div class="page-container"><div><div class="page card"><div class="content-header"><!----> <span class="page-timestamp">2018-09-29</span></div> <div class="content"><p></p><div class="table-of-contents"><ul><li><a href="#什么是聚合函数">什么是聚合函数</a><ul><li><a href="#_2-分组-t62-分组">2\. 分组 #</a></li><li><a href="#_3-子查询-t123-子查询">3\. 子查询 #</a></li><li><a href="#_4-表连接-t174-表连接">4\. 表连接 #</a></li></ul></li></ul></div><p></p> <h1 id="什么是聚合函数"><a href="#什么是聚合函数" aria-hidden="true" class="header-anchor">#</a> 什么是聚合函数</h1> <hr> <p>对一组值进行计算，并返回计算后的值，一般用来统计数据</p> <h3 id="_1-1-sum-t11-1-sum"><a href="#_1-1-sum-t11-1-sum" aria-hidden="true" class="header-anchor">#</a> 1.1 SUM [#](#t11.1 SUM)</h3> <p>累加所有行的值</p> <div class="language-sql extra-class"><pre class="language-sql"><code>计算ID<span class="token operator">=</span><span class="token number">1</span>的学生的的总分
<span class="token keyword">select</span> <span class="token function">SUM</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span>  <span class="token keyword">as</span> <span class="token string">'总分'</span> <span class="token keyword">from</span> score <span class="token keyword">where</span> student_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-2-avg-t21-2-avg"><a href="#_1-2-avg-t21-2-avg" aria-hidden="true" class="header-anchor">#</a> 1.2 AVG [#](#t21.2 AVG)</h3> <p>计算所有行的平均值</p> <div class="language-sql extra-class"><pre class="language-sql"><code>计算ID<span class="token operator">=</span><span class="token number">1</span>的学生的的平均分
<span class="token keyword">select</span> <span class="token function">AVG</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'平均分'</span> <span class="token keyword">from</span> score <span class="token keyword">where</span> student_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-3-max、min-t31-3-max、min"><a href="#_1-3-max、min-t31-3-max、min" aria-hidden="true" class="header-anchor">#</a> 1.3 MAX、MIN [#](#t31.3 MAX、MIN)</h3> <p>计算所有行的平均值</p> <div class="language-sql extra-class"><pre class="language-sql"><code>计算ID<span class="token operator">=</span><span class="token number">1</span>的学生的的平均分
<span class="token keyword">select</span> <span class="token function">AVG</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'平均分'</span><span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 最高分<span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 最低分 <span class="token keyword">from</span> score <span class="token keyword">where</span> student_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-4-avg-t41-4-avg"><a href="#_1-4-avg-t41-4-avg" aria-hidden="true" class="header-anchor">#</a> 1.4 AVG [#](#t41.4 AVG)</h3> <p>计算所有行的平均值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">AVG</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'平均分'</span><span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 最高分<span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 最低分 <span class="token keyword">from</span> score <span class="token keyword">where</span> student_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-5-count-t51-5-count"><a href="#_1-5-count-t51-5-count" aria-hidden="true" class="header-anchor">#</a> 1.5 COUNT [#](#t51.5 COUNT)</h3> <p>计算学生总数</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>
</code></pre></div><h2 id="_2-分组-t62-分组"><a href="#_2-分组-t62-分组" aria-hidden="true" class="header-anchor">#</a> 2. 分组 [#](#t62. 分组)</h2> <p>分组查询就是按某列的值进行分组，相同的值分成一组，然后可以对此组内进行求平均、求和等计算 <img src="assets/splitgroup.png" alt="splitgroup"></p> <h3 id="_2-1-语法-t72-1-语法"><a href="#_2-1-语法-t72-1-语法" aria-hidden="true" class="header-anchor">#</a> 2.1 语法 [#](#t72.1 语法)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 列名<span class="token punctuation">,</span>查询表达式
<span class="token keyword">FROM</span>  <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span>
<span class="token keyword">WHERE</span>  <span class="token operator">&lt;</span>条件<span class="token operator">&gt;</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token operator">&lt;</span>分组字段<span class="token operator">&gt;</span>
<span class="token keyword">HAVING</span> 分组后的过滤条件
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> 列名 <span class="token punctuation">[</span><span class="token keyword">ASC</span><span class="token punctuation">,</span><span class="token keyword">DESC</span><span class="token punctuation">]</span>
<span class="token keyword">LIMIT</span> 偏移量<span class="token punctuation">,</span>条数
</code></pre></div><p>SELECT列表中只能包含：</p> <ul><li>被分组的列</li> <li>为每个分组返回一个值的表达式，如聚合函数</li></ul> <h3 id="_2-2-练习-t82-2-练习"><a href="#_2-2-练习-t82-2-练习" aria-hidden="true" class="header-anchor">#</a> 2.2 练习 [#](#t82.2 练习)</h3> <ul><li><p>统计每位同学的平均成绩-单列分组</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> student_id<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> <span class="token keyword">from</span> score <span class="token keyword">group</span> <span class="token keyword">by</span> student_id<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>统计每门课程的最高分，并按分数从高到低排列</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> course_id<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> 平均分 <span class="token keyword">from</span> score <span class="token keyword">group</span> <span class="token keyword">by</span> course_id <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token function">max</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> <span class="token keyword">desc</span>
</code></pre></div></li> <li><p>统计各省的男女同学人数-多列分组</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> province<span class="token punctuation">,</span>gender<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> student <span class="token keyword">group</span> <span class="token keyword">by</span> province<span class="token punctuation">,</span>gender
</code></pre></div><h3 id="_2-3-分组筛选-t92-3-分组筛选"><a href="#_2-3-分组筛选-t92-3-分组筛选" aria-hidden="true" class="header-anchor">#</a> 2.3 分组筛选 [#](#t92.3 分组筛选)</h3> <h4 id="_2-3-1-语法-t102-3-1-语法"><a href="#_2-3-1-语法-t102-3-1-语法" aria-hidden="true" class="header-anchor">#</a> 2.3.1 语法 [#](#t102.3.1 语法)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>  <span class="token keyword">FROM</span>  <span class="token operator">&lt;</span>表名<span class="token operator">&gt;</span>
<span class="token keyword">WHERE</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> {col_name<span class="token operator">|</span>expr<span class="token operator">|</span>position}
<span class="token keyword">HAVING</span>  {col_name<span class="token operator">|</span>expr<span class="token operator">|</span>position}
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> {col_name<span class="token operator">|</span>expr<span class="token operator">|</span>position} <span class="token punctuation">[</span><span class="token keyword">ASC</span><span class="token operator">|</span><span class="token keyword">DESC</span><span class="token punctuation">]</span>
<span class="token keyword">LIMIT</span> <span class="token keyword">offset</span><span class="token punctuation">,</span>row_count
</code></pre></div></li> <li><p>WHERE用于过滤掉不符合条件的记录</p></li> <li><p>HAVING 用于过滤分组后的记录</p></li> <li><p>GROUP BY用于对筛选后的结果进行分组</p></li></ul> <h4 id="_2-3-2-练习-t112-3-2-练习"><a href="#_2-3-2-练习-t112-3-2-练习" aria-hidden="true" class="header-anchor">#</a> 2.3.2 练习 [#](#t112.3.2 练习)</h4> <ul><li><p>统计学生人数超过1人的省份</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> province<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> student <span class="token keyword">group</span> <span class="token keyword">by</span> province <span class="token keyword">having</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span>
</code></pre></div></li> <li><p>得到学生的年龄</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> DATEDIFF<span class="token punctuation">(</span>dd<span class="token punctuation">,</span>birthday<span class="token punctuation">,</span>GETDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">365</span> <span class="token keyword">from</span> student
</code></pre></div></li> <li><p>不及格次数大于1次的学生</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> student_id<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> 不及格次数 <span class="token keyword">from</span> score <span class="token keyword">where</span> grade <span class="token operator">&lt;</span><span class="token number">60</span> <span class="token keyword">group</span> <span class="token keyword">by</span> student_id <span class="token keyword">having</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span>
</code></pre></div></li></ul> <h2 id="_3-子查询-t123-子查询"><a href="#_3-子查询-t123-子查询" aria-hidden="true" class="header-anchor">#</a> 3. 子查询 [#](#t123. 子查询)</h2> <ul><li>子查询就是指出现在其它SQL语句中的SELECT语句</li> <li>Outer Query/ Inner Query</li> <li>子查询指嵌套在查询内部，且必须始终出现在圆括号中</li> <li>子查询可以包含多个关键字或条件</li> <li>子查询的外层查询可以是: SELECT INSERT UPDATE SET等</li> <li>子查询可以返回常量、一行数据、一列数据或其它子查询</li></ul> <h3 id="_3-1-比较运算符的子查询-t133-1-比较运算符的子查询"><a href="#_3-1-比较运算符的子查询-t133-1-比较运算符的子查询" aria-hidden="true" class="header-anchor">#</a> 3.1 比较运算符的子查询 [#](#t133.1  比较运算符的子查询)</h3> <ul><li><p>= 等于</p></li> <li><p><code>&gt;</code>大于</p></li> <li><p><code>&lt;</code>小于</p></li> <li><p><code>&gt;=</code> 大于等于</p></li> <li><p>&lt;= 小于等于</p></li> <li><p>&lt;&gt; 不等于</p></li> <li><p>!= 不等于</p></li> <li><p>&lt;=&gt; 安全不等于</p></li></ul> <h3 id="_3-2-查询年龄大于平均年龄的学生-t143-2-查询年龄大于平均年龄的学生"><a href="#_3-2-查询年龄大于平均年龄的学生-t143-2-查询年龄大于平均年龄的学生" aria-hidden="true" class="header-anchor">#</a> 3.2 查询年龄大于平均年龄的学生 [#](#t143.2 查询年龄大于平均年龄的学生)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">AVG</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> student<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">WHERE</span> age <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">AVG</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> student<span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-2-any-some-all-t153-2-any-some-all"><a href="#_3-2-any-some-all-t153-2-any-some-all" aria-hidden="true" class="header-anchor">#</a> 3.2 ANY SOME ALL [#](#t153.2 ANY SOME ALL)</h3> <ul><li><p><code>&gt; &gt; = &lt; &lt;= = &lt;\&gt; !=</code></p></li> <li><p>ANY 任何一个</p></li> <li><p>SOME 某些</p></li> <li><p>ALL 全部</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">WHERE</span> age <span class="token operator">&gt;</span> <span class="token keyword">ANY</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> age  <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> province <span class="token operator">=</span> <span class="token string">'陕西省'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">WHERE</span> age <span class="token operator">&gt;</span> <span class="token keyword">SOME</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> age  <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> province <span class="token operator">=</span> <span class="token string">'陕西省'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">WHERE</span> age <span class="token operator">&gt;</span> <span class="token keyword">ALL</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> age  <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> province <span class="token operator">=</span> <span class="token string">'陕西省'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">WHERE</span> age <span class="token operator">=</span> <span class="token keyword">ANY</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> age  <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> province <span class="token operator">=</span> <span class="token string">'陕西省'</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">WHERE</span> age <span class="token operator">=</span> <span class="token keyword">SOME</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> age  <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> province <span class="token operator">=</span> <span class="token string">'陕西省'</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <h3 id="_3-3-查询一下有考试成绩的学生信息-t163-3-查询一下有考试成绩的学生信息"><a href="#_3-3-查询一下有考试成绩的学生信息-t163-3-查询一下有考试成绩的学生信息" aria-hidden="true" class="header-anchor">#</a> 3.3 查询一下有考试成绩的学生信息 [#](#t163.3 查询一下有考试成绩的学生信息)</h3> <ul><li><p>[IN]</p></li> <li><p>[NOT IN]</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">distinct</span> student_id <span class="token keyword">from</span> score<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>[EXISTS]</p></li> <li><p>[NOTEXISTS]</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">where</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">distinct</span> student_id <span class="token keyword">from</span> score <span class="token keyword">where</span> student<span class="token punctuation">.</span>id <span class="token operator">=</span> score<span class="token punctuation">.</span>student_id  <span class="token punctuation">)</span>
</code></pre></div></li></ul> <h2 id="_4-表连接-t174-表连接"><a href="#_4-表连接-t174-表连接" aria-hidden="true" class="header-anchor">#</a> 4. 表连接 [#](#t174. 表连接)</h2> <h3 id="４-1-连接类型"><a href="#４-1-连接类型" aria-hidden="true" class="header-anchor">#</a> ４.1　连接类型 <a href="#t18%EF%BC%94.1%E3%80%80%E8%BF%9E%E6%8E%A5%E7%B1%BB%E5%9E%8B">#</a></h3> <ul><li>JOIN=INNER JOIN=CROSS JOIN 内连接</li> <li>LEFT [OUTER] JOIN 左外连接</li> <li>RIGHT [OUTER] JOIN 右外连接</li> <li>ON 连接条件</li></ul> <p><img src="assets/tablejoin.jpg" alt="tablejoin"></p> <h3 id="４-2-连接条件"><a href="#４-2-连接条件" aria-hidden="true" class="header-anchor">#</a> ４.2　连接条件 <a href="#t19%EF%BC%94.2%E3%80%80%E8%BF%9E%E6%8E%A5%E6%9D%A1%E4%BB%B6">#</a></h3> <p>使用ON关键字来设定连接条件，也可以使用WHERE来代替</p> <ul><li>ON来设定连接条件</li> <li>也可以使用WHERE来对结果进行过滤</li></ul> <h3 id="４-3-内连接"><a href="#４-3-内连接" aria-hidden="true" class="header-anchor">#</a> ４.3　内连接 <a href="#t20%EF%BC%94.3%E3%80%80%E5%86%85%E8%BF%9E%E6%8E%A5">#</a></h3> <p>显示左表和右表中符合条件的</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score <span class="token keyword">ON</span> student<span class="token punctuation">.</span>id <span class="token operator">=</span> score<span class="token punctuation">.</span>student_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="４-4-左外连接"><a href="#４-4-左外连接" aria-hidden="true" class="header-anchor">#</a> ４.4　左外连接 <a href="#t21%EF%BC%94.4%E3%80%80%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5">#</a></h3> <p>显示左表的全部和右表符合条件的</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score <span class="token keyword">ON</span> student<span class="token punctuation">.</span>id <span class="token operator">=</span> score<span class="token punctuation">.</span>student_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="４-5-右外连接"><a href="#４-5-右外连接" aria-hidden="true" class="header-anchor">#</a> ４.5　右外连接 <a href="#t22%EF%BC%94.5%E3%80%80%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5">#</a></h3> <p>显示右表的全部和左表符合条件的</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> score <span class="token keyword">ON</span> student<span class="token punctuation">.</span>id <span class="token operator">=</span> score<span class="token punctuation">.</span>student_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="４-6-更多表连接"><a href="#４-6-更多表连接" aria-hidden="true" class="header-anchor">#</a> ４.6　更多表连接 <a href="#t23%EF%BC%94.6%E3%80%80%E6%9B%B4%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5">#</a></h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> student<span class="token punctuation">.</span>name<span class="token punctuation">,</span>course<span class="token punctuation">.</span>name<span class="token punctuation">,</span>score<span class="token punctuation">.</span>grade <span class="token keyword">FROM</span> score
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> student <span class="token keyword">ON</span> student<span class="token punctuation">.</span>id <span class="token operator">=</span> score<span class="token punctuation">.</span>student_id
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course <span class="token keyword">ON</span> course<span class="token punctuation">.</span>id <span class="token operator">=</span> score<span class="token punctuation">.</span>course_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="４-7-无限分类-自身连接"><a href="#４-7-无限分类-自身连接" aria-hidden="true" class="header-anchor">#</a> ４.7　无限分类[自身连接] <a href="#t24%EF%BC%94.7%E3%80%80%E6%97%A0%E9%99%90%E5%88%86%E7%B1%BB%5B%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5%5D">#</a></h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">table</span> category<span class="token punctuation">(</span>
 id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
 name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 parent_id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> category<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>parent_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'数码产品'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'服装'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'食品'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">'iPad'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">'李宁'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">'康师傅'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> c1<span class="token punctuation">.</span>id<span class="token punctuation">,</span>c1<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> category c1 <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> category c2 <span class="token keyword">ON</span> c1<span class="token punctuation">.</span>id <span class="token operator">=</span> c2<span class="token punctuation">.</span>parent_id
<span class="token keyword">WHERE</span> c1<span class="token punctuation">.</span>parent_id <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c1<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre></div><p>父类变成名称</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> c1<span class="token punctuation">.</span>id<span class="token punctuation">,</span>c1<span class="token punctuation">.</span>name<span class="token punctuation">,</span>p<span class="token punctuation">.</span>name
<span class="token keyword">FROM</span> category c1 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> category p <span class="token keyword">ON</span> c1<span class="token punctuation">.</span>parent_id <span class="token operator">=</span> p<span class="token punctuation">.</span>id
</code></pre></div><h3 id="４-8-删除重复记录-多表删除-t25４-8-删除重复记录-多表删除"><a href="#４-8-删除重复记录-多表删除-t25４-8-删除重复记录-多表删除" aria-hidden="true" class="header-anchor">#</a> ４.8 删除重复记录[多表删除] [#](#t25４.8 删除重复记录[多表删除])</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> category<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>parent_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">'iPad'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">'李宁'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token string">'康师傅'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="４-8-1-多表联合删除重复记录-t26４-8-1-多表联合删除重复记录"><a href="#４-8-1-多表联合删除重复记录-t26４-8-1-多表联合删除重复记录" aria-hidden="true" class="header-anchor">#</a> ４.8.1 多表联合删除重复记录 [#](#t26４.8.1 多表联合删除重复记录)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> category c1 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>name <span class="token keyword">from</span> category <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> name <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span> c2
<span class="token keyword">ON</span> c1<span class="token punctuation">.</span>name <span class="token operator">=</span> c2<span class="token punctuation">.</span>name <span class="token keyword">WHERE</span> c1<span class="token punctuation">.</span>id <span class="token operator">!=</span> c2<span class="token punctuation">.</span>id
</code></pre></div><h4 id="４-8-2-in-not-in删除重复记录-t27４-8-2-in-not-in删除重复记录"><a href="#４-8-2-in-not-in删除重复记录-t27４-8-2-in-not-in删除重复记录" aria-hidden="true" class="header-anchor">#</a> ４.8.2 IN NOT IN删除重复记录 [#](#t27４.8.2 IN NOT IN删除重复记录)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> category c1
<span class="token keyword">WHERE</span> c1<span class="token punctuation">.</span>name <span class="token operator">IN</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> name <span class="token keyword">from</span> category <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> name <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">AND</span> c1<span class="token punctuation">.</span>id <span class="token operator">NOT</span> <span class="token operator">IN</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> category <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> name <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-9-插入省份-insert-select-t284-9-插入省份-insert-select"><a href="#_4-9-插入省份-insert-select-t284-9-插入省份-insert-select" aria-hidden="true" class="header-anchor">#</a> 4.9 (插入省份)INSERT SELECT [#](#t284.9 (插入省份)INSERT SELECT)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> province<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> province<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> province <span class="token keyword">FROM</span> student<span class="token punctuation">;</span>
</code></pre></div><h3 id="４-10-更新省份-多表更新"><a href="#４-10-更新省份-多表更新" aria-hidden="true" class="header-anchor">#</a> ４.10　更新省份(多表更新)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> province <span class="token keyword">ON</span> student<span class="token punctuation">.</span>province<span class="token operator">=</span>province<span class="token punctuation">.</span>name
 <span class="token keyword">SET</span> student<span class="token punctuation">.</span>province<span class="token operator">=</span>province<span class="token punctuation">.</span>id
<span class="token keyword">WHERE</span> student<span class="token punctuation">.</span>province <span class="token operator">=</span>  province<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre></div><h3 id="４-11-多表联合查询"><a href="#４-11-多表联合查询" aria-hidden="true" class="header-anchor">#</a> ４.11　多表联合查询 <a href="#t29%EF%BC%94.11%E3%80%80%E5%A4%9A%E8%A1%A8%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2">#</a></h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> province <span class="token keyword">ON</span> student<span class="token punctuation">.</span>province<span class="token operator">=</span>province<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre></div><h3 id="４-12-create-select-t30４-12-create-select"><a href="#４-12-create-select-t30４-12-create-select" aria-hidden="true" class="header-anchor">#</a> ４.12 CREATE SELECT [#](#t30４.12 CREATE SELECT)</h3> <p>创建表的同时将结果写入到数据表</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">table</span> city<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> city name <span class="token keyword">from</span> student<span class="token punctuation">;</span>

<span class="token keyword">UPDATE</span> student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> city <span class="token keyword">on</span> student<span class="token punctuation">.</span>city <span class="token operator">=</span> city<span class="token punctuation">.</span>name
<span class="token keyword">SET</span> student<span class="token punctuation">.</span>city <span class="token operator">=</span> city<span class="token punctuation">.</span>id
<span class="token keyword">WHERE</span> student<span class="token punctuation">.</span>city <span class="token operator">=</span> city<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre></div><h3 id="４-13-修改列名和类型-t31４-13-修改列名和类型"><a href="#４-13-修改列名和类型-t31４-13-修改列名和类型" aria-hidden="true" class="header-anchor">#</a> ４.13 修改列名和类型 [#](#t31４.13 修改列名和类型)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student
CHANGE province province_id <span class="token keyword">SMALLINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
CHANGE city city_id <span class="token keyword">SMALLINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div></div> <!----> <div class="content page-nav"><p class="inner"><span class="prev">
          ← <a href="/fe/30.cms-1-mysql.html" class="prev">
            数据库能够做什么 #
          </a></span> <span class="next"><a href="/fe/30.cms-3-mysql.html">
            为什么需要设计数据库
          </a> →
        </span></p></div> <div id="comment-container"><div class="gt-container"><div class="gt-initing"><i class="gt-loader"></i> <p class="gt-initing-text">Gitalking ...</p></div> <!----> <!----> <div><div class="gt-header"><a class="gt-avatar-github"><span class="gt-ico gt-ico-github"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M64 524C64 719.602 189.356 885.926 364.113 947.017 387.65799 953 384 936.115 384 924.767L384 847.107C248.118 863.007 242.674 773.052 233.5 758.001 215 726.501 171.5 718.501 184.5 703.501 215.5 687.501 247 707.501 283.5 761.501 309.956 800.642 361.366 794.075 387.658 787.497 393.403 763.997 405.637 743.042 422.353 726.638 281.774 701.609 223 615.67 223 513.5 223 464.053 239.322 418.406 271.465 381.627 251.142 320.928 273.421 269.19 276.337 261.415 334.458 256.131 394.888 302.993 399.549 306.685 432.663 297.835 470.341 293 512.5 293 554.924 293 592.81 297.896 626.075 306.853 637.426 298.219 693.46 258.054 747.5 262.966 750.382 270.652 772.185 321.292 753.058 381.083 785.516 417.956 802 463.809 802 513.5 802 615.874 742.99 701.953 601.803 726.786 625.381 750.003 640 782.295 640 818.008L640 930.653C640.752 939.626 640 948.664978 655.086 948.665 832.344 888.962 960 721.389 960 524 960 276.576 759.424 76 512 76 264.577 76 64 276.576 64 524Z"></path>
</svg>
</span> <!----></span></a> <div class="gt-header-comment"><textarea placeholder="Leave a comment" class="gt-header-textarea"></textarea> <div class="gt-header-preview markdown-body hide"></div> <div class="gt-header-controls"><a href="https://guides.github.com/features/mastering-markdown/" target="_blank" class="gt-header-controls-tip"><span class="gt-ico gt-ico-tip"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M512 366.949535c-16.065554 0-29.982212 13.405016-29.982212 29.879884l0 359.070251c0 16.167882 13.405016 29.879884 29.982212 29.879884 15.963226 0 29.879884-13.405016 29.879884-29.879884L541.879884 396.829419C541.879884 380.763865 528.474868 366.949535 512 366.949535L512 366.949535z"
    p-id="3083"></path>
  <path d="M482.017788 287.645048c0-7.776956 3.274508-15.553912 8.80024-21.181973 5.525732-5.525732 13.302688-8.80024 21.181973-8.80024 7.776956 0 15.553912 3.274508 21.079644 8.80024 5.525732 5.62806 8.80024 13.405016 8.80024 21.181973 0 7.776956-3.274508 15.656241-8.80024 21.181973-5.525732 5.525732-13.405016 8.697911-21.079644 8.697911-7.879285 0-15.656241-3.274508-21.181973-8.697911C485.292295 303.301289 482.017788 295.524333 482.017788 287.645048L482.017788 287.645048z"
    p-id="3084"></path>
  <path d="M512 946.844409c-239.8577 0-434.895573-195.037873-434.895573-434.895573 0-239.8577 195.037873-434.895573 434.895573-434.895573 239.755371 0 434.895573 195.037873 434.895573 434.895573C946.895573 751.806535 751.755371 946.844409 512 946.844409zM512 126.17088c-212.740682 0-385.880284 173.037274-385.880284 385.777955 0 212.740682 173.037274 385.777955 385.880284 385.777955 212.740682 0 385.777955-173.037274 385.777955-385.777955C897.777955 299.208154 724.740682 126.17088 512 126.17088z"
    p-id="3085"></path>
</svg>
</span> <span class="gt-ico-text">Markdown is supported</span></span></a> <!----> <button class="gt-btn gt-btn-preview"><span class="gt-btn-text">Preview</span> <!----></button> <button class="gt-btn gt-btn-login"><span class="gt-btn-text">Login with GitHub</span> <!----></button></div></div></div> <div class="gt-comments"><span></span> <p class="gt-comments-null">
                Be the first guy leaving a comment!
            </p> <!----></div></div></div></div></div></div> <!----></div> <div class="tool-group"><!----></div></div> <!----></div> <div class="background-mask" style="background:#f6f6f6;"></div></div></div>
    <script src="/assets/js/app.35b69267.js" defer></script><script src="/assets/js/67.37215862.js" defer></script>
  </body>
</html>
