<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>索引 | Myfun&#39;s Blog</title>
    <meta name="description" content="MongoDB">
    <link rel="icon" href="/favicon.ico">
    <meta name="keywords" content="MongoDB">
    <link rel="preload" href="/assets/css/0.styles.6bc9bf16.css" as="style"><link rel="preload" href="/assets/js/app.35b69267.js" as="script"><link rel="preload" href="/assets/js/62.fc2d969d.js" as="script"><link rel="prefetch" href="/assets/js/10.a2f6c6ac.js"><link rel="prefetch" href="/assets/js/100.24b9a366.js"><link rel="prefetch" href="/assets/js/101.085f0585.js"><link rel="prefetch" href="/assets/js/102.66d5674f.js"><link rel="prefetch" href="/assets/js/103.7f71429c.js"><link rel="prefetch" href="/assets/js/104.13b0f535.js"><link rel="prefetch" href="/assets/js/105.0a093e85.js"><link rel="prefetch" href="/assets/js/106.a4a1db62.js"><link rel="prefetch" href="/assets/js/107.2634aacf.js"><link rel="prefetch" href="/assets/js/108.b393516d.js"><link rel="prefetch" href="/assets/js/109.769b78fb.js"><link rel="prefetch" href="/assets/js/11.fb483cc4.js"><link rel="prefetch" href="/assets/js/12.24a41994.js"><link rel="prefetch" href="/assets/js/13.a4762474.js"><link rel="prefetch" href="/assets/js/14.4a737bc9.js"><link rel="prefetch" href="/assets/js/15.548f4e99.js"><link rel="prefetch" href="/assets/js/16.b0d2654c.js"><link rel="prefetch" href="/assets/js/17.d43ab467.js"><link rel="prefetch" href="/assets/js/18.0c8f5f87.js"><link rel="prefetch" href="/assets/js/19.19ef59f8.js"><link rel="prefetch" href="/assets/js/2.436a35aa.js"><link rel="prefetch" href="/assets/js/20.24296203.js"><link rel="prefetch" href="/assets/js/21.c486888f.js"><link rel="prefetch" href="/assets/js/22.7e2305f9.js"><link rel="prefetch" href="/assets/js/23.e55bab1b.js"><link rel="prefetch" href="/assets/js/24.1468433c.js"><link rel="prefetch" href="/assets/js/25.6d82837f.js"><link rel="prefetch" href="/assets/js/26.3c4b2f18.js"><link rel="prefetch" href="/assets/js/27.21725a4f.js"><link rel="prefetch" href="/assets/js/28.db16c479.js"><link rel="prefetch" href="/assets/js/29.cb9512e5.js"><link rel="prefetch" href="/assets/js/3.5c82c0f7.js"><link rel="prefetch" href="/assets/js/30.a4c25096.js"><link rel="prefetch" href="/assets/js/31.81741530.js"><link rel="prefetch" href="/assets/js/32.da6d2ac6.js"><link rel="prefetch" href="/assets/js/33.f6164ecd.js"><link rel="prefetch" href="/assets/js/34.0344ad22.js"><link rel="prefetch" href="/assets/js/35.07d4c8d3.js"><link rel="prefetch" href="/assets/js/36.2c6adcff.js"><link rel="prefetch" href="/assets/js/37.ceb5e95e.js"><link rel="prefetch" href="/assets/js/38.d39e96e5.js"><link rel="prefetch" href="/assets/js/39.fcf34164.js"><link rel="prefetch" href="/assets/js/4.267db630.js"><link rel="prefetch" href="/assets/js/40.bdf31768.js"><link rel="prefetch" href="/assets/js/41.cc61eccd.js"><link rel="prefetch" href="/assets/js/42.042e4349.js"><link rel="prefetch" href="/assets/js/43.b385d348.js"><link rel="prefetch" href="/assets/js/44.7669f3e2.js"><link rel="prefetch" href="/assets/js/45.2fb532f4.js"><link rel="prefetch" href="/assets/js/46.0cc86442.js"><link rel="prefetch" href="/assets/js/47.30448b83.js"><link rel="prefetch" href="/assets/js/48.8893a5ed.js"><link rel="prefetch" href="/assets/js/49.ed7be1ae.js"><link rel="prefetch" href="/assets/js/5.d8a5933e.js"><link rel="prefetch" href="/assets/js/50.e4af394b.js"><link rel="prefetch" href="/assets/js/51.502ca2a7.js"><link rel="prefetch" href="/assets/js/52.f9768ea6.js"><link rel="prefetch" href="/assets/js/53.0c762369.js"><link rel="prefetch" href="/assets/js/54.dad23d00.js"><link rel="prefetch" href="/assets/js/55.4298d6a4.js"><link rel="prefetch" href="/assets/js/56.d8505fa7.js"><link rel="prefetch" href="/assets/js/57.63d197ce.js"><link rel="prefetch" href="/assets/js/58.ae9a3671.js"><link rel="prefetch" href="/assets/js/59.cb04d7cd.js"><link rel="prefetch" href="/assets/js/6.a83fef9a.js"><link rel="prefetch" href="/assets/js/60.0cedb385.js"><link rel="prefetch" href="/assets/js/61.a5c3f820.js"><link rel="prefetch" href="/assets/js/63.53f087e3.js"><link rel="prefetch" href="/assets/js/64.9384bc9a.js"><link rel="prefetch" href="/assets/js/65.bb5db767.js"><link rel="prefetch" href="/assets/js/66.86940f42.js"><link rel="prefetch" href="/assets/js/67.37215862.js"><link rel="prefetch" href="/assets/js/68.e0c14875.js"><link rel="prefetch" href="/assets/js/69.276f0d65.js"><link rel="prefetch" href="/assets/js/7.7e7cde5e.js"><link rel="prefetch" href="/assets/js/70.0fb38ae4.js"><link rel="prefetch" href="/assets/js/71.7c824b27.js"><link rel="prefetch" href="/assets/js/72.bc39810c.js"><link rel="prefetch" href="/assets/js/73.9917d9a4.js"><link rel="prefetch" href="/assets/js/74.7912f7da.js"><link rel="prefetch" href="/assets/js/75.c193b7ec.js"><link rel="prefetch" href="/assets/js/76.ecd4e536.js"><link rel="prefetch" href="/assets/js/77.842c5aba.js"><link rel="prefetch" href="/assets/js/78.0a67366d.js"><link rel="prefetch" href="/assets/js/79.324df7d4.js"><link rel="prefetch" href="/assets/js/8.7063c274.js"><link rel="prefetch" href="/assets/js/80.68c6326b.js"><link rel="prefetch" href="/assets/js/81.a7df7b21.js"><link rel="prefetch" href="/assets/js/82.abd9c0c2.js"><link rel="prefetch" href="/assets/js/83.fd0d8457.js"><link rel="prefetch" href="/assets/js/84.148b432c.js"><link rel="prefetch" href="/assets/js/85.32148693.js"><link rel="prefetch" href="/assets/js/86.7dc5fe11.js"><link rel="prefetch" href="/assets/js/87.bd1be392.js"><link rel="prefetch" href="/assets/js/88.2c0b86aa.js"><link rel="prefetch" href="/assets/js/89.3038cc8d.js"><link rel="prefetch" href="/assets/js/9.5cab2997.js"><link rel="prefetch" href="/assets/js/90.fb4057a1.js"><link rel="prefetch" href="/assets/js/91.4aa5adaf.js"><link rel="prefetch" href="/assets/js/92.aea0a62e.js"><link rel="prefetch" href="/assets/js/93.e2d0e9a7.js"><link rel="prefetch" href="/assets/js/94.a9e33a20.js"><link rel="prefetch" href="/assets/js/95.7c55098e.js"><link rel="prefetch" href="/assets/js/96.c8dfe1c0.js"><link rel="prefetch" href="/assets/js/97.35fc7df3.js"><link rel="prefetch" href="/assets/js/98.551b3ede.js"><link rel="prefetch" href="/assets/js/99.a8f5ffc4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6bc9bf16.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="wrap"><div class="theme-container container no-sidebar"><header class="navbar"><div class="nav-header"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"> <span class="site-name can-hide">
        Myfun's Blog
      </span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/interview/" class="nav-link">InterviewMap</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/css_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">CSS_Tricks</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/js_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">JS_Tricks</a></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://github.com/zhangximufeng" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/animate_resume_ts/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div> <!----></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/interview/" class="nav-link">InterviewMap</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/css_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">CSS_Tricks</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/js_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">JS_Tricks</a></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://github.com/zhangximufeng" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/animate_resume_ts/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div> <!----></nav> <!----></div> <div class="page-container"><div><div class="page card"><div class="content-header"><!----> <span class="page-timestamp">2018-09-29</span></div> <div class="content"><p></p><div class="table-of-contents"><ul><li><a href="#索引">索引</a><ul><li><a href="#_2-建立索引-t12-建立索引">2 建立索引 #</a></li><li><a href="#_2-2-二维索引-t142-2-二维索引">2.2 二维索引 #</a></li><li><a href="#附录-t20附录">附录 #</a></li></ul></li></ul></div><p></p> <h1 id="索引"><a href="#索引" aria-hidden="true" class="header-anchor">#</a> 索引</h1> <hr> <ul><li>索引通常能够极大的提高查询的效率，如果没有索引，MongoDB在读取数据时必须扫描集合中的每个文件并选取那些符合查询条件的记录。</li> <li>这种扫描全集合的查询效率是非常低的，特别在处理大量的数据时，查询可以要花费几十秒甚至几分钟，这对网站的性能是非常致命的。</li> <li>索引是特殊的数据结构，索引存储在一个易于遍历读取的数据集合中，索引是对数据库表中一列或多列的值进行排序的一种结构</li></ul> <p><img src="assets/mongoindex.png" alt="mongoindex"></p> <ul><li>特殊的数据结构，按顺序保存文档中的一个或多个字段</li> <li>使用索引，方便范围查询和匹配查询。</li></ul> <h2 id="_2-建立索引-t12-建立索引"><a href="#_2-建立索引-t12-建立索引" aria-hidden="true" class="header-anchor">#</a> 2 建立索引 [#](#t12 建立索引)</h2> <h3 id="_2-1-插入数据-t22-1-插入数据"><a href="#_2-1-插入数据-t22-1-插入数据" aria-hidden="true" class="header-anchor">#</a> 2.1 插入数据 [#](#t22.1 插入数据)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> students <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">300000</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   students<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'zxmf'</span><span class="token operator">+</span>i<span class="token punctuation">,</span>age<span class="token punctuation">:</span>i<span class="token punctuation">,</span>random<span class="token punctuation">:</span>i<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>students<span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>age<span class="token punctuation">:</span><span class="token number">299999</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">explain</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// &quot;executionTimeMillis&quot; : 245,</span>
</code></pre></div><h3 id="_2-1-2-创建匿名索引-t32-1-2-创建匿名索引"><a href="#_2-1-2-创建匿名索引-t32-1-2-创建匿名索引" aria-hidden="true" class="header-anchor">#</a> 2.1.2 创建匿名索引 [#](#t32.1.2 创建匿名索引)</h3> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">ensureIndex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>age<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>age<span class="token punctuation">:</span><span class="token number">299999</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">explain</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// &quot;executionTimeMillis&quot; : 7,</span>
</code></pre></div><h3 id="_2-1-3-创建命名索引-t42-1-3-创建命名索引"><a href="#_2-1-3-创建命名索引-t42-1-3-创建命名索引" aria-hidden="true" class="header-anchor">#</a> 2.1.3 创建命名索引 [#](#t42.1.3  创建命名索引)</h3> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">ensureIndex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'namedIndex'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">getIndexes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//查看索引</span>
</code></pre></div><h3 id="_2-1-4-分析索引的执行过程-t52-1-4-分析索引的执行过程"><a href="#_2-1-4-分析索引的执行过程-t52-1-4-分析索引的执行过程" aria-hidden="true" class="header-anchor">#</a> 2.1.4 分析索引的执行过程 [#](#t52.1.4 分析索引的执行过程)</h3> <p>MongoDB 提供了一个 explain 命令让我们获知系统如何处理查询请求。利用 explain 命令，我们可以很好地观察系统如何使用索引来加快检索，同时可以针对性优化索引。</p> <ul><li><p>cursor: 返回游标类型</p> <ul><li>BasicCursor而没有使用索引的查询并不是胡乱查询，而是使用了基本游标：，同理，</li> <li>使用索引的查询就是BtreeCursor</li></ul></li> <li><p>nscanned: 查找过的索引条目的数量</p></li> <li><p>n: 返回的文档数量</p></li> <li><p>nscannedObjects ：数据库按照索引去磁盘上查找实际文档的次数</p></li> <li><p>millis: 执行本次查询所花费的时间，以毫秒计算，这也是判断查询效率的一个重点</p></li> <li><p>indexBounds: 描述索引的使用情况</p></li> <li><p>isMultiKey:是否使用了多键索引</p></li> <li><p>scanAndOrder: 是否在内存中对结果进行了排序</p></li> <li><p>indexOnly:是否仅仅使用索引完成了本次查询</p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'zxmf150000'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">explain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_2-1-5-指定使用的索引-t62-1-5-指定使用的索引"><a href="#_2-1-5-指定使用的索引-t62-1-5-指定使用的索引" aria-hidden="true" class="header-anchor">#</a> 2.1.5 指定使用的索引 [#](#t62.1.5 指定使用的索引)</h3> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'zxmf299999'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">299999</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hint</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">explain</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-1-6-创建唯一索引并删除重复记录-t72-1-6-创建唯一索引并删除重复记录"><a href="#_2-1-6-创建唯一索引并删除重复记录-t72-1-6-创建唯一索引并删除重复记录" aria-hidden="true" class="header-anchor">#</a> 2.1.6 创建唯一索引并删除重复记录 [#](#t72.1.6 创建唯一索引并删除重复记录)</h3> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>person<span class="token punctuation">.</span><span class="token function">ensureIndex</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">&quot;name&quot;</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span> <span class="token string">&quot;name&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;indexname&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;unique&quot;</span> <span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>dropDups<span class="token punctuation">:</span><span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-1-7-删除索引-t82-1-7-删除索引"><a href="#_2-1-7-删除索引-t82-1-7-删除索引" aria-hidden="true" class="header-anchor">#</a> 2.1.7 删除索引 [#](#t82.1.7  删除索引)</h3> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">dropIndex</span><span class="token punctuation">(</span><span class="token string">'namedIndex'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除指定的索引</span>
db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">dropIndex</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">runCommand</span><span class="token punctuation">(</span><span class="token punctuation">{</span>dropIndexes<span class="token punctuation">:</span><span class="token string">&quot;students&quot;</span><span class="token punctuation">,</span>index<span class="token punctuation">:</span><span class="token string">&quot;namedIndex&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除所有的索引</span>
</code></pre></div><h3 id="_2-1-8-在后台创建索引-t92-1-8-在后台创建索引"><a href="#_2-1-8-在后台创建索引-t92-1-8-在后台创建索引" aria-hidden="true" class="header-anchor">#</a> 2.1.8 在后台创建索引 [#](#t92.1.8   在后台创建索引)</h3> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">ensureIndex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'nameIndex'</span><span class="token punctuation">,</span>unique<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>background<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-1-9-建立多键索引-t102-1-9-建立多键索引"><a href="#_2-1-9-建立多键索引-t102-1-9-建立多键索引" aria-hidden="true" class="header-anchor">#</a> 2.1.9 建立多键索引 [#](#t102.1.9   建立多键索引)</h3> <p>mongodb可以自动对数组进行索引</p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>hobby<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'basketball'</span><span class="token punctuation">,</span><span class="token string">'football'</span><span class="token punctuation">,</span><span class="token string">'pingpang'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">ensureIndex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>hobby<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>hobby<span class="token punctuation">:</span><span class="token string">'football'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>hobby<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>_id<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">explain</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-1-10-复合索引-t112-1-10-复合索引"><a href="#_2-1-10-复合索引-t112-1-10-复合索引" aria-hidden="true" class="header-anchor">#</a> 2.1.10 复合索引 [#](#t112.1.10 复合索引)</h3> <p>查询的条件不止一个，需要用复合索引</p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">ensureIndex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>_id<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">explain</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-1-11-过期索引-t122-1-11-过期索引"><a href="#_2-1-11-过期索引-t122-1-11-过期索引" aria-hidden="true" class="header-anchor">#</a> 2.1.11 过期索引 [#](#t122.1.11 过期索引)</h3> <p>在一定的时间后会过期，过期后相应数据数据被删除,比如 <code>session</code>、日志、缓存和临时文件</p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>stus<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>time<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>stus<span class="token punctuation">.</span><span class="token function">ensureIndex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>time<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>expireAfterSeconds<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>stus<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>1.索引字段的值必须Date对象，不能是其它类型比如时间戳</li> <li>2.删除时间不精确，每60秒跑一次。删除也要时间，所以有误差。</li></ul> <h3 id="_2-1-12-全文索引-t132-1-12-全文索引"><a href="#_2-1-12-全文索引-t132-1-12-全文索引" aria-hidden="true" class="header-anchor">#</a> 2.1.12 全文索引 [#](#t132.1.12 全文索引)</h3> <p>大篇幅的文章中搜索关键词,MongoDB为我们提供了全文索引</p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>content<span class="token punctuation">:</span><span class="token string">'I am a gir'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>content<span class="token punctuation">:</span><span class="token string">'I am a boy'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>$text:表示要在全文索引中查东西</p></li> <li><p>$search:后边跟查找的内容, 默认全部匹配</p> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$text<span class="token punctuation">:</span><span class="token punctuation">{</span>$search<span class="token punctuation">:</span><span class="token string">'boy'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$text<span class="token punctuation">:</span><span class="token punctuation">{</span>$search<span class="token punctuation">:</span><span class="token string">'girl'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$text<span class="token punctuation">:</span><span class="token punctuation">{</span>$search<span class="token punctuation">:</span><span class="token string">'boy girl'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//多次查找，多个关键字为或的关系</span>
db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$text<span class="token punctuation">:</span><span class="token punctuation">{</span>$search<span class="token punctuation">:</span><span class="token string">&quot;a b&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$text<span class="token punctuation">:</span><span class="token punctuation">{</span>$search<span class="token punctuation">:</span><span class="token string">&quot;boy -girl&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -表示取消</span>
db<span class="token punctuation">.</span>article<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$text<span class="token punctuation">:</span><span class="token punctuation">{</span>$search<span class="token punctuation">:</span><span class="token string">&quot;a \&quot;coco cola\&quot; b &quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//支持转义符的,用\斜杠来转义</span>
</code></pre></div></li></ul> <h2 id="_2-2-二维索引-t142-2-二维索引"><a href="#_2-2-二维索引-t142-2-二维索引" aria-hidden="true" class="header-anchor">#</a> 2.2 二维索引 [#](#t142.2 二维索引)</h2> <p>mongodb提供强大的空间索引可以查询出一定落地的地理坐标</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token punctuation">{</span> gis <span class="token punctuation">:</span> <span class="token punctuation">{</span> x <span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">,</span> y <span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-2-1-创建2d索引-t152-2-1-创建2d索引"><a href="#_2-2-1-创建2d索引-t152-2-1-创建2d索引" aria-hidden="true" class="header-anchor">#</a> 2.2.1 创建2D索引 [#](#t152.2.1 创建2D索引)</h3> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>maps<span class="token punctuation">.</span><span class="token function">ensureIndex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>gis<span class="token punctuation">:</span><span class="token string">'2d'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>min<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>max<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//默认会创建一个2D索引</span>
</code></pre></div><h3 id="_2-2-2-查询出距离点-最近的3个点"><a href="#_2-2-2-查询出距离点-最近的3个点" aria-hidden="true" class="header-anchor">#</a> 2.2.2 查询出距离点()最近的3个点</h3> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>maps<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>gis<span class="token punctuation">:</span><span class="token punctuation">{</span>$near<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-2-3-查询以点-50-50-和点-190-190-为对角线的正方形中的所有的点-t172-2-3-查询以点-50-50-和点-190-190-为对角线的正方形中的所有的点"><a href="#_2-2-3-查询以点-50-50-和点-190-190-为对角线的正方形中的所有的点-t172-2-3-查询以点-50-50-和点-190-190-为对角线的正方形中的所有的点" aria-hidden="true" class="header-anchor">#</a> 2.2.3 查询以点(50,50)和点(190,190)为对角线的正方形中的所有的点 [#](#t172.2.3 查询以点(50,50)和点(190,190)为对角线的正方形中的所有的点)</h3> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>gis<span class="token punctuation">:</span><span class="token punctuation">{</span>$within<span class="token punctuation">:</span><span class="token punctuation">{</span>$box<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>_id<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>gis<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-2-4-查出以圆心为为半径为规则下圆心面积中的点-t182-2-4-查出以圆心为为半径为规则下圆心面积中的点"><a href="#_2-2-4-查出以圆心为为半径为规则下圆心面积中的点-t182-2-4-查出以圆心为为半径为规则下圆心面积中的点" aria-hidden="true" class="header-anchor">#</a> 2.2.4 查出以圆心为为半径为规则下圆心面积中的点 [#](#t182.2.4 查出以圆心为为半径为规则下圆心面积中的点)</h3> <div class="language-js extra-class"><pre class="language-js"><code>db<span class="token punctuation">.</span>maps<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>gis<span class="token punctuation">:</span><span class="token punctuation">{</span>$within<span class="token punctuation">:</span><span class="token punctuation">{</span>$center<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>_id<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>gis<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-2-5-索引使用的注意事项-t192-2-5-索引使用的注意事项"><a href="#_2-2-5-索引使用的注意事项-t192-2-5-索引使用的注意事项" aria-hidden="true" class="header-anchor">#</a> 2.2.5 索引使用的注意事项 [#](#t192.2.5  索引使用的注意事项)</h3> <ol><li>1为正序 -1为倒序</li> <li>索引虽然可以提升查询性能，但会降低插件性能，对于插入多查询少不要创索引</li> <li>数据量不大时不需要使用索引。性能的提升并不明显，反而大大增加了内存和硬盘的消耗。</li> <li>查询数据超过表数据量30%时，不要使用索引字段查询</li> <li>排序工作的时候可以建立索引以提高排序速度</li> <li>数字索引，要比字符串索引快的多</li></ol> <h2 id="附录"><a href="#附录" aria-hidden="true" class="header-anchor">#</a> 附录 <a href="#t20%E9%99%84%E5%BD%95">#</a></h2> <h3 id="queryplanner分析"><a href="#queryplanner分析" aria-hidden="true" class="header-anchor">#</a> queryPlanner分析 <a href="#t21queryPlanner%E5%88%86%E6%9E%90">#</a></h3> <ul><li>queryPlanner: queryPlanner的返回
<ul><li>queryPlanner.namespace:该值返回的是该query所查询的表</li> <li>queryPlanner.indexFilterSet:针对该query是否有indexfilter</li> <li>queryPlanner.winningPlan:查询优化器针对该query所返回的最优执行计划的详细内容。</li> <li>queryPlanner.winningPlan.stage:最优执行计划的stage，这里返回是FETCH，可以理解为通过返回的index位置去检索具体的文档（stage有数个模式，将在后文中进行详解）。</li> <li>queryPlanner.winningPlan.inputStage:用来描述子stage，并且为其父stage提供文档和索引关键字。</li> <li>queryPlanner.winningPlan.stage的child stage，此处是IXSCAN，表示进行的是index scanning。</li> <li>queryPlanner.winningPlan.keyPattern:所扫描的index内容，此处是did:1,status:1,modify_time: -1与scid : 1</li> <li>queryPlanner.winningPlan.indexName：winning plan所选用的index。</li> <li>queryPlanner.winningPlan.isMultiKey是否是Multikey，此处返回是false，如果索引建立在array上，此处将是true。</li> <li>queryPlanner.winningPlan.direction：此query的查询顺序，此处是forward，如果用了.sort({modify_time:-1})将显示backward。</li> <li>queryPlanner.winningPlan.indexBounds:winningplan所扫描的索引范围,如果没有制定范围就是[MaxKey, MinKey]，这主要是直接定位到mongodb的chunck中去查找数据，加快数据读取。</li> <li>queryPlanner.rejectedPlans：其他执行计划（非最优而被查询优化器reject的）的详细返回，其中具体信息与winningPlan的返回中意义相同，故不在此赘述。</li></ul></li></ul> <h3 id="对executionstats返回逐层分析"><a href="#对executionstats返回逐层分析" aria-hidden="true" class="header-anchor">#</a> 对executionStats返回逐层分析 <a href="#t22%E5%AF%B9executionStats%E8%BF%94%E5%9B%9E%E9%80%90%E5%B1%82%E5%88%86%E6%9E%90">#</a></h3> <ul><li><p>第一层，executionTimeMillis</p></li> <li><p>最为直观explain返回值是executionTimeMillis值，指的是我们这条语句的执行时间，这个值当然是希望越少越好。</p></li> <li><p>其中有3个executionTimeMillis，分别是：</p> <ul><li>executionStats.executionTimeMillis 该query的整体查询时间。</li> <li>executionStats.executionStages.executionTimeMillisEstimate</li> <li>该查询根据index去检索document获得2001条数据的时间。</li> <li>executionStats.executionStages.inputStage.executionTimeMillisEstimate</li> <li>该查询扫描2001行index所用时间。</li></ul></li> <li><p>第二层，index与document扫描数与查询返回条目数 这个主要讨论3个返回项，nReturned、totalKeysExamined、totalDocsExamined，分别代表该条查询返回的条目、索引扫描条目、文档扫描条目。 这些都是直观地影响到executionTimeMillis，我们需要扫描的越少速度越快。 对于一个查询，我们最理想的状态是：nReturned=totalKeysExamined=totalDocsExamined</p></li> <li><p>第三层，stage状态分析 那么又是什么影响到了totalKeysExamined和totalDocsExamined？是stage的类型。类型列举如下：</p></li> <li><p>COLLSCAN：全表扫描</p></li> <li><p>IXSCAN：索引扫描</p></li> <li><p>FETCH：根据索引去检索指定document</p></li> <li><p>SHARD_MERGE：将各个分片返回数据进行merge</p></li> <li><p>SORT：表明在内存中进行了排序</p></li> <li><p>LIMIT：使用limit限制返回数</p></li> <li><p>SKIP：使用skip进行跳过</p></li> <li><p>IDHACK：针对_id进行查询</p></li> <li><p>SHARDING_FILTER：通过mongos对分片数据进行查询</p></li> <li><p>COUNT：利用db.coll.explain().count()之类进行count运算</p></li> <li><p>COUNTSCAN：count不使用Index进行count时的stage返回</p></li> <li><p>COUNT_SCAN：count使用了Index进行count时的stage返回</p></li> <li><p>SUBPLA：未使用到索引的$or查询的stage返回</p></li> <li><p>TEXT：使用全文索引进行查询时候的stage返回</p></li> <li><p>PROJECTION：限定返回字段时候stage的返回</p></li> <li><p>对于普通查询，我希望看到stage的组合(查询的时候尽可能用上索引)：</p> <ul><li>Fetch+IDHACK</li> <li>Fetch+ixscan</li> <li>Limit+（Fetch+ixscan）</li> <li>PROJECTION+ixscan</li> <li>SHARDING_FITER+ixscan</li> <li>COUNT_SCAN</li></ul></li> <li><p>不希望看到包含如下的stage：</p> <ul><li>COLLSCAN(全表扫描),SORT(使用sort但是无index),不合理的SKIP,SUBPLA(未用到index的$or),COUNTSCAN(不使用index进行count)</li></ul></li></ul></div> <!----> <div class="content page-nav"><p class="inner"><span class="prev">
          ← <a href="/fe/40.deploy.html" class="prev">
            服务器部署步骤
          </a></span> <span class="next"><a href="/fe/29.mongodb-4.html">
            主从复制
          </a> →
        </span></p></div> <div id="comment-container"><div class="gt-container"><div class="gt-initing"><i class="gt-loader"></i> <p class="gt-initing-text">Gitalking ...</p></div> <!----> <!----> <div><div class="gt-header"><a class="gt-avatar-github"><span class="gt-ico gt-ico-github"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M64 524C64 719.602 189.356 885.926 364.113 947.017 387.65799 953 384 936.115 384 924.767L384 847.107C248.118 863.007 242.674 773.052 233.5 758.001 215 726.501 171.5 718.501 184.5 703.501 215.5 687.501 247 707.501 283.5 761.501 309.956 800.642 361.366 794.075 387.658 787.497 393.403 763.997 405.637 743.042 422.353 726.638 281.774 701.609 223 615.67 223 513.5 223 464.053 239.322 418.406 271.465 381.627 251.142 320.928 273.421 269.19 276.337 261.415 334.458 256.131 394.888 302.993 399.549 306.685 432.663 297.835 470.341 293 512.5 293 554.924 293 592.81 297.896 626.075 306.853 637.426 298.219 693.46 258.054 747.5 262.966 750.382 270.652 772.185 321.292 753.058 381.083 785.516 417.956 802 463.809 802 513.5 802 615.874 742.99 701.953 601.803 726.786 625.381 750.003 640 782.295 640 818.008L640 930.653C640.752 939.626 640 948.664978 655.086 948.665 832.344 888.962 960 721.389 960 524 960 276.576 759.424 76 512 76 264.577 76 64 276.576 64 524Z"></path>
</svg>
</span> <!----></span></a> <div class="gt-header-comment"><textarea placeholder="Leave a comment" class="gt-header-textarea"></textarea> <div class="gt-header-preview markdown-body hide"></div> <div class="gt-header-controls"><a href="https://guides.github.com/features/mastering-markdown/" target="_blank" class="gt-header-controls-tip"><span class="gt-ico gt-ico-tip"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M512 366.949535c-16.065554 0-29.982212 13.405016-29.982212 29.879884l0 359.070251c0 16.167882 13.405016 29.879884 29.982212 29.879884 15.963226 0 29.879884-13.405016 29.879884-29.879884L541.879884 396.829419C541.879884 380.763865 528.474868 366.949535 512 366.949535L512 366.949535z"
    p-id="3083"></path>
  <path d="M482.017788 287.645048c0-7.776956 3.274508-15.553912 8.80024-21.181973 5.525732-5.525732 13.302688-8.80024 21.181973-8.80024 7.776956 0 15.553912 3.274508 21.079644 8.80024 5.525732 5.62806 8.80024 13.405016 8.80024 21.181973 0 7.776956-3.274508 15.656241-8.80024 21.181973-5.525732 5.525732-13.405016 8.697911-21.079644 8.697911-7.879285 0-15.656241-3.274508-21.181973-8.697911C485.292295 303.301289 482.017788 295.524333 482.017788 287.645048L482.017788 287.645048z"
    p-id="3084"></path>
  <path d="M512 946.844409c-239.8577 0-434.895573-195.037873-434.895573-434.895573 0-239.8577 195.037873-434.895573 434.895573-434.895573 239.755371 0 434.895573 195.037873 434.895573 434.895573C946.895573 751.806535 751.755371 946.844409 512 946.844409zM512 126.17088c-212.740682 0-385.880284 173.037274-385.880284 385.777955 0 212.740682 173.037274 385.777955 385.880284 385.777955 212.740682 0 385.777955-173.037274 385.777955-385.777955C897.777955 299.208154 724.740682 126.17088 512 126.17088z"
    p-id="3085"></path>
</svg>
</span> <span class="gt-ico-text">Markdown is supported</span></span></a> <!----> <button class="gt-btn gt-btn-preview"><span class="gt-btn-text">Preview</span> <!----></button> <button class="gt-btn gt-btn-login"><span class="gt-btn-text">Login with GitHub</span> <!----></button></div></div></div> <div class="gt-comments"><span></span> <p class="gt-comments-null">
                Be the first guy leaving a comment!
            </p> <!----></div></div></div></div></div></div> <!----></div> <div class="tool-group"><!----></div></div> <!----></div> <div class="background-mask" style="background:#f6f6f6;"></div></div></div>
    <script src="/assets/js/app.35b69267.js" defer></script><script src="/assets/js/62.fc2d969d.js" defer></script>
  </body>
</html>
