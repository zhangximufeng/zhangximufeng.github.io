<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>node模块 | Myfun&#39;s Blog</title>
    <meta name="description" content="node模块化">
    <link rel="icon" href="/favicon.ico">
    <meta name="keywords" content="模块化 module node">
    <link rel="preload" href="/assets/css/0.styles.6bc9bf16.css" as="style"><link rel="preload" href="/assets/js/app.35b69267.js" as="script"><link rel="preload" href="/assets/js/6.a83fef9a.js" as="script"><link rel="prefetch" href="/assets/js/10.a2f6c6ac.js"><link rel="prefetch" href="/assets/js/100.24b9a366.js"><link rel="prefetch" href="/assets/js/101.085f0585.js"><link rel="prefetch" href="/assets/js/102.66d5674f.js"><link rel="prefetch" href="/assets/js/103.7f71429c.js"><link rel="prefetch" href="/assets/js/104.13b0f535.js"><link rel="prefetch" href="/assets/js/105.0a093e85.js"><link rel="prefetch" href="/assets/js/106.a4a1db62.js"><link rel="prefetch" href="/assets/js/107.2634aacf.js"><link rel="prefetch" href="/assets/js/108.b393516d.js"><link rel="prefetch" href="/assets/js/109.769b78fb.js"><link rel="prefetch" href="/assets/js/11.fb483cc4.js"><link rel="prefetch" href="/assets/js/12.24a41994.js"><link rel="prefetch" href="/assets/js/13.a4762474.js"><link rel="prefetch" href="/assets/js/14.4a737bc9.js"><link rel="prefetch" href="/assets/js/15.548f4e99.js"><link rel="prefetch" href="/assets/js/16.b0d2654c.js"><link rel="prefetch" href="/assets/js/17.d43ab467.js"><link rel="prefetch" href="/assets/js/18.0c8f5f87.js"><link rel="prefetch" href="/assets/js/19.19ef59f8.js"><link rel="prefetch" href="/assets/js/2.436a35aa.js"><link rel="prefetch" href="/assets/js/20.24296203.js"><link rel="prefetch" href="/assets/js/21.c486888f.js"><link rel="prefetch" href="/assets/js/22.7e2305f9.js"><link rel="prefetch" href="/assets/js/23.e55bab1b.js"><link rel="prefetch" href="/assets/js/24.1468433c.js"><link rel="prefetch" href="/assets/js/25.6d82837f.js"><link rel="prefetch" href="/assets/js/26.3c4b2f18.js"><link rel="prefetch" href="/assets/js/27.21725a4f.js"><link rel="prefetch" href="/assets/js/28.db16c479.js"><link rel="prefetch" href="/assets/js/29.cb9512e5.js"><link rel="prefetch" href="/assets/js/3.5c82c0f7.js"><link rel="prefetch" href="/assets/js/30.a4c25096.js"><link rel="prefetch" href="/assets/js/31.81741530.js"><link rel="prefetch" href="/assets/js/32.da6d2ac6.js"><link rel="prefetch" href="/assets/js/33.f6164ecd.js"><link rel="prefetch" href="/assets/js/34.0344ad22.js"><link rel="prefetch" href="/assets/js/35.07d4c8d3.js"><link rel="prefetch" href="/assets/js/36.2c6adcff.js"><link rel="prefetch" href="/assets/js/37.ceb5e95e.js"><link rel="prefetch" href="/assets/js/38.d39e96e5.js"><link rel="prefetch" href="/assets/js/39.fcf34164.js"><link rel="prefetch" href="/assets/js/4.267db630.js"><link rel="prefetch" href="/assets/js/40.bdf31768.js"><link rel="prefetch" href="/assets/js/41.cc61eccd.js"><link rel="prefetch" href="/assets/js/42.042e4349.js"><link rel="prefetch" href="/assets/js/43.b385d348.js"><link rel="prefetch" href="/assets/js/44.7669f3e2.js"><link rel="prefetch" href="/assets/js/45.2fb532f4.js"><link rel="prefetch" href="/assets/js/46.0cc86442.js"><link rel="prefetch" href="/assets/js/47.30448b83.js"><link rel="prefetch" href="/assets/js/48.8893a5ed.js"><link rel="prefetch" href="/assets/js/49.ed7be1ae.js"><link rel="prefetch" href="/assets/js/5.d8a5933e.js"><link rel="prefetch" href="/assets/js/50.e4af394b.js"><link rel="prefetch" href="/assets/js/51.502ca2a7.js"><link rel="prefetch" href="/assets/js/52.f9768ea6.js"><link rel="prefetch" href="/assets/js/53.0c762369.js"><link rel="prefetch" href="/assets/js/54.dad23d00.js"><link rel="prefetch" href="/assets/js/55.4298d6a4.js"><link rel="prefetch" href="/assets/js/56.d8505fa7.js"><link rel="prefetch" href="/assets/js/57.63d197ce.js"><link rel="prefetch" href="/assets/js/58.ae9a3671.js"><link rel="prefetch" href="/assets/js/59.cb04d7cd.js"><link rel="prefetch" href="/assets/js/60.0cedb385.js"><link rel="prefetch" href="/assets/js/61.a5c3f820.js"><link rel="prefetch" href="/assets/js/62.fc2d969d.js"><link rel="prefetch" href="/assets/js/63.53f087e3.js"><link rel="prefetch" href="/assets/js/64.9384bc9a.js"><link rel="prefetch" href="/assets/js/65.bb5db767.js"><link rel="prefetch" href="/assets/js/66.86940f42.js"><link rel="prefetch" href="/assets/js/67.37215862.js"><link rel="prefetch" href="/assets/js/68.e0c14875.js"><link rel="prefetch" href="/assets/js/69.276f0d65.js"><link rel="prefetch" href="/assets/js/7.7e7cde5e.js"><link rel="prefetch" href="/assets/js/70.0fb38ae4.js"><link rel="prefetch" href="/assets/js/71.7c824b27.js"><link rel="prefetch" href="/assets/js/72.bc39810c.js"><link rel="prefetch" href="/assets/js/73.9917d9a4.js"><link rel="prefetch" href="/assets/js/74.7912f7da.js"><link rel="prefetch" href="/assets/js/75.c193b7ec.js"><link rel="prefetch" href="/assets/js/76.ecd4e536.js"><link rel="prefetch" href="/assets/js/77.842c5aba.js"><link rel="prefetch" href="/assets/js/78.0a67366d.js"><link rel="prefetch" href="/assets/js/79.324df7d4.js"><link rel="prefetch" href="/assets/js/8.7063c274.js"><link rel="prefetch" href="/assets/js/80.68c6326b.js"><link rel="prefetch" href="/assets/js/81.a7df7b21.js"><link rel="prefetch" href="/assets/js/82.abd9c0c2.js"><link rel="prefetch" href="/assets/js/83.fd0d8457.js"><link rel="prefetch" href="/assets/js/84.148b432c.js"><link rel="prefetch" href="/assets/js/85.32148693.js"><link rel="prefetch" href="/assets/js/86.7dc5fe11.js"><link rel="prefetch" href="/assets/js/87.bd1be392.js"><link rel="prefetch" href="/assets/js/88.2c0b86aa.js"><link rel="prefetch" href="/assets/js/89.3038cc8d.js"><link rel="prefetch" href="/assets/js/9.5cab2997.js"><link rel="prefetch" href="/assets/js/90.fb4057a1.js"><link rel="prefetch" href="/assets/js/91.4aa5adaf.js"><link rel="prefetch" href="/assets/js/92.aea0a62e.js"><link rel="prefetch" href="/assets/js/93.e2d0e9a7.js"><link rel="prefetch" href="/assets/js/94.a9e33a20.js"><link rel="prefetch" href="/assets/js/95.7c55098e.js"><link rel="prefetch" href="/assets/js/96.c8dfe1c0.js"><link rel="prefetch" href="/assets/js/97.35fc7df3.js"><link rel="prefetch" href="/assets/js/98.551b3ede.js"><link rel="prefetch" href="/assets/js/99.a8f5ffc4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6bc9bf16.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="wrap"><div class="theme-container container"><header class="navbar"><div class="nav-header"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" class="logo"> <span class="site-name can-hide">
        Myfun's Blog
      </span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/interview/" class="nav-link">InterviewMap</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/css_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">CSS_Tricks</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/js_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">JS_Tricks</a></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://github.com/zhangximufeng" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/animate_resume_ts/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div> <!----></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/interview/" class="nav-link">InterviewMap</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/css_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">CSS_Tricks</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/js_tricks/" target="_blank" rel="noopener noreferrer" class="nav-link">JS_Tricks</a></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://github.com/zhangximufeng" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div><div class="nav-item"><a href="https://zhangximufeng.github.io/animate_resume_ts/" target="_blank" rel="noopener noreferrer" class="nav-link">About</a></div> <!----></nav> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>node模块</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/fe/7.modoule%26NPM.html#_1-js模块化方面的不足" class="sidebar-link">1.JS模块化方面的不足</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe/7.modoule%26NPM.html#_2-commonjs规范" class="sidebar-link">2.CommonJS规范</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe/7.modoule%26NPM.html#_3-node中的commonjs" class="sidebar-link">3.Node中的CommonJS</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe/7.modoule%26NPM.html#_4-模块分类" class="sidebar-link">4.模块分类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_4-1-原生模块" class="sidebar-link">4.1 原生模块</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_4-2-文件模块" class="sidebar-link">4.2 文件模块</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_4-3-第三方模块" class="sidebar-link">4.3 第三方模块</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_4-4-模块的加载策略" class="sidebar-link">4.4 模块的加载策略</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_4-5-文件模块查找规则" class="sidebar-link">4.5 文件模块查找规则</a></li></ul></li><li><a href="/fe/7.modoule%26NPM.html#_5-从模块外部访问模块内的成员" class="sidebar-link">5.从模块外部访问模块内的成员</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe/7.modoule%26NPM.html#_6-模块对象的属性" class="sidebar-link">6.模块对象的属性</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe/7.modoule%26NPM.html#_7-包" class="sidebar-link">7.包</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe/7.modoule%26NPM.html#_8-npm" class="sidebar-link">8.NPM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_8-1-npm提供的功能-t148-1-npm提供的功能" class="sidebar-link">8.1 npm提供的功能 #</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_8-2npm命令" class="sidebar-link">8.2npm命令 #</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_8-3包的安装模式" class="sidebar-link">8.3包的安装模式</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_8-4-全局安装" class="sidebar-link">8.4 全局安装</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_8-5-注册、登录和发布模块" class="sidebar-link">8.5 注册、登录和发布模块</a></li></ul></li><li><a href="/fe/7.modoule%26NPM.html#参考资料" class="sidebar-link">参考资料</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fe/7.modoule%26NPM.html#_9-yarn" class="sidebar-link">9.yarn</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_9-1-初始化一个新的项目" class="sidebar-link">9.1 初始化一个新的项目</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_9-2-添加一个依赖包" class="sidebar-link">9.2 添加一个依赖包</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_9-3-更新一个依赖包" class="sidebar-link">9.3 更新一个依赖包</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_9-4-删除一个依赖包" class="sidebar-link">9.4 删除一个依赖包</a></li><li class="sidebar-sub-header"><a href="/fe/7.modoule%26NPM.html#_9-5-安装所有的依赖包" class="sidebar-link">9.5 安装所有的依赖包</a></li></ul></li><li><a href="/fe/7.modoule%26NPM.html#参考" class="sidebar-link">参考</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul></div> <div class="page-container"><div><div class="page card"><div class="content-header"><h1 class="page-title" style="color:#ac3e40;">
        node模块
      </h1> <span class="page-timestamp">2018-09-09</span></div> <div class="content"><p></p><div class="table-of-contents"><ul><li><a href="#_1-js模块化方面的不足">1.JS模块化方面的不足</a></li><li><a href="#_2-commonjs规范">2.CommonJS规范</a></li><li><a href="#_3-node中的commonjs">3.Node中的CommonJS</a></li><li><a href="#_4-模块分类">4.模块分类</a></li><li><a href="#_5-从模块外部访问模块内的成员">5.从模块外部访问模块内的成员</a></li><li><a href="#_6-模块对象的属性">6.模块对象的属性</a></li><li><a href="#_7-包">7.包</a></li><li><a href="#_8-npm">8.NPM</a></li><li><a href="#参考资料">参考资料</a></li><li><a href="#_9-yarn">9.yarn</a></li><li><a href="#参考">参考</a></li></ul></div><p></p> <h2 id="_1-js模块化方面的不足"><a href="#_1-js模块化方面的不足" aria-hidden="true" class="header-anchor">#</a> 1.JS模块化方面的不足</h2> <ul><li>JS没有模块系统，不支持封闭的作用域和依赖管理</li> <li>没有标准库，没有文件系统和IO流API</li> <li>也没有包管理系统</li></ul> <h2 id="_2-commonjs规范"><a href="#_2-commonjs规范" aria-hidden="true" class="header-anchor">#</a> 2.CommonJS规范</h2> <ul><li>封装功能</li> <li>封闭作用域</li> <li>可能解决依赖问题</li> <li>工作效率更高，重构方便</li></ul> <h2 id="_3-node中的commonjs"><a href="#_3-node中的commonjs" aria-hidden="true" class="header-anchor">#</a> 3.Node中的CommonJS</h2> <ul><li><p>在node.js 里，模块划分所有的功能，每个JS都是一个模块</p></li> <li><p>实现require方法,NPM实现了模块的自动加载和安装依赖</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span>require<span class="token punctuation">,</span>module<span class="token punctuation">,</span>__filename<span class="token punctuation">,</span>__dirname<span class="token punctuation">)</span><span class="token punctuation">{</span>
  exports <span class="token operator">=</span> module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  exports<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'zxmf'</span><span class="token punctuation">;</span>
  exports <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'zxmf'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <h2 id="_4-模块分类"><a href="#_4-模块分类" aria-hidden="true" class="header-anchor">#</a> 4.模块分类</h2> <h3 id="_4-1-原生模块"><a href="#_4-1-原生模块" aria-hidden="true" class="header-anchor">#</a> 4.1 原生模块</h3> <p><code>http</code> <code>path</code> <code>fs</code> <code>util</code> <code>events</code> 编译成二进制,加载速度最快，原来模块通过名称来加载</p> <h3 id="_4-2-文件模块"><a href="#_4-2-文件模块" aria-hidden="true" class="header-anchor">#</a> 4.2 文件模块</h3> <p>在硬盘的某个位置，加载速度非常慢，文件模块通过名称或路径来加载 文件模块的后缀有三种</p> <ul><li><p>后缀名为.js的JavaScript脚本文件,需要先读入内存再运行</p></li> <li><p>后缀名为.json的JSON文件,fs 读入内存 转化成JSON对象</p></li> <li><p>后缀名为.node的经过编译后的二进制C/C++扩展模块文件,可以直接使用</p> <blockquote><p>一般自己写的通过路径来加载,别人写的通过名称去当前目录或全局的node_modules下面去找</p></blockquote></li></ul> <h3 id="_4-3-第三方模块"><a href="#_4-3-第三方模块" aria-hidden="true" class="header-anchor">#</a> 4.3 第三方模块</h3> <ul><li>如果require函数只指定名称则视为从node_modules下面加载文件，这样的话你可以移动模块而不需要修改引用的模块路径</li> <li>第三方模块的查询路径包括module.paths和全局目录</li></ul> <h4 id="_4-3-1-全局目录"><a href="#_4-3-1-全局目录" aria-hidden="true" class="header-anchor">#</a> 4.3.1 全局目录</h4> <p>window如果在环境变量中设置了<code>NODE_PATH</code>变量，并将变量设置为一个有效的磁盘目录，require在本地找不到此模块时向在此目录下找这个模块。 UNIX操作系统中会从 $HOME/.node_modules $HOME/.node_libraries目录下寻找</p> <h3 id="_4-4-模块的加载策略"><a href="#_4-4-模块的加载策略" aria-hidden="true" class="header-anchor">#</a> 4.4 模块的加载策略</h3> <p><img src="/assets/img/lookmodule.c04cc360.png" alt="lookmodule"></p> <h3 id="_4-5-文件模块查找规则"><a href="#_4-5-文件模块查找规则" aria-hidden="true" class="header-anchor">#</a> 4.5 文件模块查找规则</h3> <p><img src="/assets/img/lookfile.dc1bb598.png" alt="lookfile"></p> <h2 id="_5-从模块外部访问模块内的成员"><a href="#_5-从模块外部访问模块内的成员" aria-hidden="true" class="header-anchor">#</a> 5.从模块外部访问模块内的成员</h2> <ul><li>使用exports对象</li> <li>使用module.exports导出引用类型</li></ul> <h2 id="_6-模块对象的属性"><a href="#_6-模块对象的属性" aria-hidden="true" class="header-anchor">#</a> 6.模块对象的属性</h2> <ul><li>module.id</li> <li>module.filename</li> <li>module.loaded</li> <li>module.parent</li> <li>module.children</li> <li>module.paths</li></ul> <h2 id="_7-包"><a href="#_7-包" aria-hidden="true" class="header-anchor">#</a> 7.包</h2> <p>在Node.js中，可以通过包来对一组具有相互依赖关系的模块进行统一管理是，通过包可以把某个独立功能封装起来 每个项目的根目录下面，一般都有一个package.json文件，定义了这个项目所需要的各种模块，以及项目的配置信息（比如名称、版本、许可证等元数据）。npm install命令根据这个配置文件，自动下载所需的模块，也就是配置项目所需的运行和开发环境</p> <table><thead><tr><th>项目</th> <th>描述</th></tr></thead> <tbody><tr><td>name</td> <td>项目名称</td></tr> <tr><td>version</td> <td>版本号</td></tr> <tr><td>description</td> <td>项目描述</td></tr> <tr><td>keywords: {Array}</td> <td>关键词，便于用户搜索到我们的项目</td></tr> <tr><td>homepage</td> <td>项目url主页</td></tr> <tr><td>bugs</td> <td>项目问题反馈的Url或email配置</td></tr> <tr><td>license</td> <td>项目许可证</td></tr> <tr><td>author,contributors</td> <td>作者和贡献者</td></tr> <tr><td>main</td> <td>主文件</td></tr> <tr><td>bin</td> <td>项目用到的可执行文件配置</td></tr> <tr><td>repository</td> <td>项目代码存放地方</td></tr> <tr><td>scripts</td> <td>声明一系列npm脚本指令</td></tr> <tr><td>dependencies</td> <td>项目在生产环境中依赖的包</td></tr> <tr><td>devDependencies</td> <td>项目在生产环境中依赖的包</td></tr> <tr><td>peerDependencies</td> <td>应用运行依赖的宿主包</td></tr></tbody></table> <p><a href="https://docs.npmjs.com/files/package.json" target="_blank" rel="noopener noreferrer">package.json<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="http://javascript.ruanyifeng.com/nodejs/packagejson.html" target="_blank" rel="noopener noreferrer">packagejson<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_8-npm"><a href="#_8-npm" aria-hidden="true" class="header-anchor">#</a> 8.NPM</h2> <p>安装完node之后只能使用Node语言特性及核心函数，我们还需要一个系统来下载、安装和管理第三方模块。在 Node看这个系统被称为Node包管理器(Node Package Manager,NPM)。</p> <h3 id="_8-1-npm提供的功能-t148-1-npm提供的功能"><a href="#_8-1-npm提供的功能-t148-1-npm提供的功能" aria-hidden="true" class="header-anchor">#</a> 8.1 npm提供的功能 [#](#t148.1 npm提供的功能)</h3> <ul><li>公共注册服务，用户可以把自己写的包上传到服务器上</li> <li>命令行下载工具，用户可以通过npm命令把别人写的包下载到自己电脑上，还可以管理自己模块依赖的其它模块</li></ul> <p>搜索第三方包的地址</p> <pre><code>https://www.npmjs.com/search
</code></pre> <h3 id="_8-2npm命令"><a href="#_8-2npm命令" aria-hidden="true" class="header-anchor">#</a> 8.2npm命令 <a href="#t158.2npm%E5%91%BD%E4%BB%A4">#</a></h3> <h5 id="_8-2-1-安装包-t168-2-1-安装包"><a href="#_8-2-1-安装包-t168-2-1-安装包" aria-hidden="true" class="header-anchor">#</a> 8.2.1 安装包 [#](#t168.2.1 安装包)</h5> <p>打开命令行或终端，进入要安装包的目录,然后执行以下命令安装依赖的模块</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&lt;</span>package-name<span class="token operator">&gt;</span>
<span class="token function">npm</span> i mime
</code></pre></div><p>此命令会从服务器上下载此模块到当前目录下的node_modules目录下，如果node_modules目录不存在则会创建一个。 也可以安装特定的版本</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&lt;</span>package name<span class="token operator">&gt;</span>@<span class="token operator">&lt;</span>version spec<span class="token operator">&gt;</span>
<span class="token function">npm</span> i mime@2.1
</code></pre></div><p>还可以使用一个版本号范围来替换点位符。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i mime@2.x
</code></pre></div><h5 id="_8-2-2-卸载包"><a href="#_8-2-2-卸载包" aria-hidden="true" class="header-anchor">#</a> 8.2.2 卸载包</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> uninstall <span class="token operator">&lt;</span>package name<span class="token operator">&gt;</span>
</code></pre></div><h5 id="_8-2-3-更新包"><a href="#_8-2-3-更新包" aria-hidden="true" class="header-anchor">#</a> 8.2.3 更新包</h5> <p>我们还可以通过以下指令更新已经安装的包</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> update <span class="token operator">&lt;</span>package name<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_8-3包的安装模式"><a href="#_8-3包的安装模式" aria-hidden="true" class="header-anchor">#</a> 8.3包的安装模式</h3> <h4 id="_8-3-1-本地安装"><a href="#_8-3-1-本地安装" aria-hidden="true" class="header-anchor">#</a> 8.3.1 本地安装</h4> <p>默认情况下安装命令会把对应的包安装到当前目录下，这叫本地安装，如果包里有可执行的文件NPM会把可执行文件安装到<code>./node_modules/.bin</code>目录下。 本地安装的模块只能在当前目录和当前目录的子目录里面使用。</p> <h3 id="_8-4-全局安装"><a href="#_8-4-全局安装" aria-hidden="true" class="header-anchor">#</a> 8.4 全局安装</h3> <ul><li><p>如果希望安装的包能够在计算机机的所有目录下面都能使用就需要全局安装。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&lt;</span>package-name<span class="token operator">&gt;</span> -g
</code></pre></div></li> <li><p>在全局安装的模式下，npm会把包安装到全局目录，通过此命令可以查看当前全局目录的位置</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> root -g
C:\Users\Administrator\AppData\Roaming\npm\node_modules
</code></pre></div></li> <li><p>如果要修改全局安装目录，可以使用</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token keyword">set</span> prefix “D:\node.js\node_global”
</code></pre></div></li> <li><p>如果包里有可执行文件，会把可执行文件安装到此node_modules的上一级目录中。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>C:\Users\Administrator\AppData\Roaming\npm\
</code></pre></div></li> <li><p>全局安装的一般是需要在任意目录下面执行的命令，比如<code>babel</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> babel-cli -g
</code></pre></div></li> <li><p>如果全局安装的命令不能用则可能是没有正确配置用户变量<code>PATH</code>,需要在系统变量中为PATH变量添加全局安装目录</p></li> <li><p>默认情况下在全局安装目录下面的模块是不能在任意文件夹下直接加载的，如果想要在任意目录下面直接加载，需要在系统变量中新建一个名为<code>NODE_PATH</code>的变量，它的值为全局安装目录下的<code>node_modules</code>所在位置。</p></li></ul> <h3 id="_8-5-注册、登录和发布模块"><a href="#_8-5-注册、登录和发布模块" aria-hidden="true" class="header-anchor">#</a> 8.5 注册、登录和发布模块</h3> <ol><li><p>注册npm账号 <a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>登录</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> login
</code></pre></div></li> <li><p>发布</p> <p>npm publish</p></li></ol> <h2 id="参考资料"><a href="#参考资料" aria-hidden="true" class="header-anchor">#</a> 参考资料</h2> <ul><li><a href="https://docs.npmjs.com/getting-started/what-is-npm" target="_blank" rel="noopener noreferrer">npm官方手册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.tuicool.com/articles/VB7nYn" target="_blank" rel="noopener noreferrer">npm总结<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="_9-yarn"><a href="#_9-yarn" aria-hidden="true" class="header-anchor">#</a> 9.yarn</h2> <p>Yarn 是一个依赖管理工具。它能够管理你的代码，并与全世界的开发者分享代码。 代码是通过包（有时也被称为模块）进行共享的。 在每一个包中包含了所有需要共享的代码，另外还定义了一个<code>package.json</code>文件，用来描述这个包。</p> <h3 id="_9-1-初始化一个新的项目"><a href="#_9-1-初始化一个新的项目" aria-hidden="true" class="header-anchor">#</a> 9.1 初始化一个新的项目</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>yarn init
</code></pre></div><h3 id="_9-2-添加一个依赖包"><a href="#_9-2-添加一个依赖包" aria-hidden="true" class="header-anchor">#</a> 9.2 添加一个依赖包</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>yarn add <span class="token punctuation">[</span>package<span class="token punctuation">]</span>
yarn add <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>version<span class="token punctuation">]</span>
yarn add <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>tag<span class="token punctuation">]</span>
</code></pre></div><h3 id="_9-3-更新一个依赖包"><a href="#_9-3-更新一个依赖包" aria-hidden="true" class="header-anchor">#</a> 9.3 更新一个依赖包</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>yarn upgrade <span class="token punctuation">[</span>package<span class="token punctuation">]</span>
yarn upgrade <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>version<span class="token punctuation">]</span>
yarn upgrade <span class="token punctuation">[</span>package<span class="token punctuation">]</span>@<span class="token punctuation">[</span>tag<span class="token punctuation">]</span>
</code></pre></div><h3 id="_9-4-删除一个依赖包"><a href="#_9-4-删除一个依赖包" aria-hidden="true" class="header-anchor">#</a> 9.4 删除一个依赖包</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>yarn remove <span class="token punctuation">[</span>package<span class="token punctuation">]</span>
</code></pre></div><h3 id="_9-5-安装所有的依赖包"><a href="#_9-5-安装所有的依赖包" aria-hidden="true" class="header-anchor">#</a> 9.5 安装所有的依赖包</h3> <pre><code>yarn
</code></pre> <p>或者</p> <pre><code>yarn install
</code></pre> <h2 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://yarn.bootcss.com/" target="_blank" rel="noopener noreferrer">yarn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <!----> <div class="content page-nav"><p class="inner"><span class="prev">
          ← <a href="/fe/6.NodeCore.html" class="prev">
            node core
          </a></span> <span class="next"><a href="/fe/8.Encoding.html">
            编码
          </a> →
        </span></p></div> <div id="comment-container"><div class="gt-container"><div class="gt-initing"><i class="gt-loader"></i> <p class="gt-initing-text">Gitalking ...</p></div> <!----> <!----> <div><div class="gt-header"><a class="gt-avatar-github"><span class="gt-ico gt-ico-github"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M64 524C64 719.602 189.356 885.926 364.113 947.017 387.65799 953 384 936.115 384 924.767L384 847.107C248.118 863.007 242.674 773.052 233.5 758.001 215 726.501 171.5 718.501 184.5 703.501 215.5 687.501 247 707.501 283.5 761.501 309.956 800.642 361.366 794.075 387.658 787.497 393.403 763.997 405.637 743.042 422.353 726.638 281.774 701.609 223 615.67 223 513.5 223 464.053 239.322 418.406 271.465 381.627 251.142 320.928 273.421 269.19 276.337 261.415 334.458 256.131 394.888 302.993 399.549 306.685 432.663 297.835 470.341 293 512.5 293 554.924 293 592.81 297.896 626.075 306.853 637.426 298.219 693.46 258.054 747.5 262.966 750.382 270.652 772.185 321.292 753.058 381.083 785.516 417.956 802 463.809 802 513.5 802 615.874 742.99 701.953 601.803 726.786 625.381 750.003 640 782.295 640 818.008L640 930.653C640.752 939.626 640 948.664978 655.086 948.665 832.344 888.962 960 721.389 960 524 960 276.576 759.424 76 512 76 264.577 76 64 276.576 64 524Z"></path>
</svg>
</span> <!----></span></a> <div class="gt-header-comment"><textarea placeholder="Leave a comment" class="gt-header-textarea"></textarea> <div class="gt-header-preview markdown-body hide"></div> <div class="gt-header-controls"><a href="https://guides.github.com/features/mastering-markdown/" target="_blank" class="gt-header-controls-tip"><span class="gt-ico gt-ico-tip"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M512 366.949535c-16.065554 0-29.982212 13.405016-29.982212 29.879884l0 359.070251c0 16.167882 13.405016 29.879884 29.982212 29.879884 15.963226 0 29.879884-13.405016 29.879884-29.879884L541.879884 396.829419C541.879884 380.763865 528.474868 366.949535 512 366.949535L512 366.949535z"
    p-id="3083"></path>
  <path d="M482.017788 287.645048c0-7.776956 3.274508-15.553912 8.80024-21.181973 5.525732-5.525732 13.302688-8.80024 21.181973-8.80024 7.776956 0 15.553912 3.274508 21.079644 8.80024 5.525732 5.62806 8.80024 13.405016 8.80024 21.181973 0 7.776956-3.274508 15.656241-8.80024 21.181973-5.525732 5.525732-13.405016 8.697911-21.079644 8.697911-7.879285 0-15.656241-3.274508-21.181973-8.697911C485.292295 303.301289 482.017788 295.524333 482.017788 287.645048L482.017788 287.645048z"
    p-id="3084"></path>
  <path d="M512 946.844409c-239.8577 0-434.895573-195.037873-434.895573-434.895573 0-239.8577 195.037873-434.895573 434.895573-434.895573 239.755371 0 434.895573 195.037873 434.895573 434.895573C946.895573 751.806535 751.755371 946.844409 512 946.844409zM512 126.17088c-212.740682 0-385.880284 173.037274-385.880284 385.777955 0 212.740682 173.037274 385.777955 385.880284 385.777955 212.740682 0 385.777955-173.037274 385.777955-385.777955C897.777955 299.208154 724.740682 126.17088 512 126.17088z"
    p-id="3085"></path>
</svg>
</span> <span class="gt-ico-text">Markdown is supported</span></span></a> <!----> <button class="gt-btn gt-btn-preview"><span class="gt-btn-text">Preview</span> <!----></button> <button class="gt-btn gt-btn-login"><span class="gt-btn-text">Login with GitHub</span> <!----></button></div></div></div> <div class="gt-comments"><span></span> <p class="gt-comments-null">
                Be the first guy leaving a comment!
            </p> <!----></div></div></div></div></div></div> <!----></div> <div class="tool-group"><!----></div></div> <!----></div> <div class="background-mask" style="background:#f6f6f6;"></div></div></div>
    <script src="/assets/js/app.35b69267.js" defer></script><script src="/assets/js/6.a83fef9a.js" defer></script>
  </body>
</html>
